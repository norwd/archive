<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>tools | suckless.org software that sucks less</title>
	<link rel="stylesheet" type="text/css" href="https://suckless.org/pub/style.css"/>
</head>

<div id="header">
	<a href="https://suckless.org/"><img src="https://suckless.org/logo.svg" alt=""/></a>&nbsp;
	<a id="headerLink" href="https://suckless.org/">suckless.org</a>
	<span class="hidden"> - </span>
	<span id="headerSubtitle">tools</span>
</div>
<hr class="hidden"/>
<div id="menu">
	<a href="https://suckless.org/">home</a>
	<a href="https://dwm.suckless.org/">dwm</a>
	<a href="https://st.suckless.org/">st</a>
	<a href="https://core.suckless.org/">core</a>
	<a href="https://surf.suckless.org/">surf</a>
	<a href="../../../index.html"><b>tools</b></a>
	<a href="https://libs.suckless.org/">libs</a>
	<a href="https://ev.suckless.org/">e.V.</a>
	<span class="right">
		<a href="https://dl.suckless.org/">download</a>
		<a href="https://git.suckless.org/">source</a>
	</span>
</div>
<hr class="hidden"/>
<div id="content">
<div id="nav">
	<ul>
	<li><a href="../../../index.html">about</a></li>
	<li><a href="../../../9base/index.html">9base/</a></li>
	<li><a href="../../../blind/index.html">blind/</a></li>
	<li><a href="../../index.html"><b>dmenu/</b></a>
		<ul>
		<li><a href="../index.html"><b>patches/</b></a>
			<ul>
			<li><a href="../allow-color-font/index.html">allow color font/</a></li>
			<li><a href="../alpha/index.html">alpha/</a></li>
			<li><a href="../bar_height/index.html">bar height/</a></li>
			<li><a href="../bidi/index.html">bidi/</a></li>
			<li><a href="../border/index.html">border/</a></li>
			<li><a href="../case-insensitive/index.html">case insensitive/</a></li>
			<li><a href="../center/index.html">center/</a></li>
			<li><a href="../colored-caret/index.html">colored caret/</a></li>
			<li><a href="../date/index.html">date/</a></li>
			<li><a href="../desktoponly/index.html">desktoponly/</a></li>
			<li><a href="../dmenupadding/index.html">dmenupadding/</a></li>
			<li><a href="../dracula/index.html">dracula/</a></li>
			<li><a href="../dynamicoptions/index.html">dynamicoptions/</a></li>
			<li><a href="../emoji-highlight/index.html">emoji highlight/</a></li>
			<li><a href="../fuzzyhighlight/index.html">fuzzyhighlight/</a></li>
			<li><a href="../fuzzymatch/index.html">fuzzymatch/</a></li>
			<li><a href="../grid/index.html">grid/</a></li>
			<li><a href="../gridnav/index.html">gridnav/</a></li>
			<li><a href="../gruvbox/index.html">gruvbox/</a></li>
			<li><a href="../highlight/index.html">highlight/</a></li>
			<li><a href="../highpriority/index.html">highpriority/</a></li>
			<li><a href="../incremental/index.html">incremental/</a></li>
			<li><a href="../initialtext/index.html">initialtext/</a></li>
			<li><a href="../instant/index.html">instant/</a></li>
			<li><a href="../json/index.html">json/</a></li>
			<li><a href="../line-height/index.html">line height/</a></li>
			<li><a href="../lines-below-prompt/index.html">lines below prompt/</a></li>
			<li><a href="../listfullwidth/index.html">listfullwidth/</a></li>
			<li><a href="../managed/index.html">managed/</a></li>
			<li><a href="../morecolor/index.html">morecolor/</a></li>
			<li><a href="../mouse-support/index.html">mouse support/</a></li>
			<li><a href="../multi-selection/index.html">multi selection/</a></li>
			<li><a href="../navhistory/index.html">navhistory/</a></li>
			<li><a href="../no-default-select/index.html">no default select/</a></li>
			<li><a href="../no-input/index.html">no input/</a></li>
			<li><a href="../no-sort/index.html">no sort/</a></li>
			<li><a href="../noescape/index.html">noescape/</a></li>
			<li><a href="index.html"><b>non blocking stdin/</b></a></li>
			<li><a href="../numbers/index.html">numbers/</a></li>
			<li><a href="../password/index.html">password/</a></li>
			<li><a href="../pipeout/index.html">pipeout/</a></li>
			<li><a href="../png_images/index.html">png images/</a></li>
			<li><a href="../prefix-completion/index.html">prefix completion/</a></li>
			<li><a href="../preselect/index.html">preselect/</a></li>
			<li><a href="../printindex/index.html">printindex/</a></li>
			<li><a href="../printinputtext/index.html">printinputtext/</a></li>
			<li><a href="../qalc/index.html">qalc/</a></li>
			<li><a href="../reject-no-match/index.html">reject no match/</a></li>
			<li><a href="../restrict-return/index.html">restrict return/</a></li>
			<li><a href="../scroll/index.html">scroll/</a></li>
			<li><a href="../separator/index.html">separator/</a></li>
			<li><a href="../solarized/index.html">solarized/</a></li>
			<li><a href="../sort_by_popularity/index.html">sort by popularity/</a></li>
			<li><a href="../symbols/index.html">symbols/</a></li>
			<li><a href="../tidy/index.html">tidy/</a></li>
			<li><a href="../tmenu/index.html">tmenu/</a></li>
			<li><a href="../topbar/index.html">topbar/</a></li>
			<li><a href="../tsv/index.html">tsv/</a></li>
			<li><a href="../tsv-alt/index.html">tsv alt/</a></li>
			<li><a href="../vertfull/index.html">vertfull/</a></li>
			<li><a href="../vi-mode/index.html">vi mode/</a></li>
			<li><a href="../xresources/index.html">xresources/</a></li>
			<li><a href="../xresources-alt/index.html">xresources alt/</a></li>
			<li><a href="../xtheme/index.html">xtheme/</a></li>
			<li><a href="../xyw/index.html">xyw/</a></li>
			</ul>
		</li>
		<li><a href="../../scripts/index.html">scripts/</a></li>
		</ul>
	</li>
	<li><a href="../../../farbfeld/index.html">farbfeld/</a></li>
	<li><a href="../../../ii/index.html">ii/</a></li>
	<li><a href="../../../lchat/index.html">lchat/</a></li>
	<li><a href="../../../quark/index.html">quark/</a></li>
	<li><a href="../../../scroll/index.html">scroll/</a></li>
	<li><a href="../../../sent/index.html">sent/</a></li>
	<li><a href="../../../sic/index.html">sic/</a></li>
	<li><a href="../../../slock/index.html">slock/</a></li>
	<li><a href="../../../slstatus/index.html">slstatus/</a></li>
	<li><a href="../../../tabbed/index.html">tabbed/</a></li>
	<li><a href="../../../x/index.html">x/</a></li>
	</ul>
</div>
<hr class="hidden"/>
<div id="main">

<h1>Non-blocking stdin</h1>
<h2>Description</h2>
<p>A patch to have dmenu read stdin in a non blocking way, making it wait
for input both from stdin and from X. This way, you can continue feeding
dmenu while you type. This patch can be used along with the incremental
patch, so that you can use stdout to feed stdin.</p>
<p>Example:
<pre><code># Make a fifo and read from it for dmenu's input
mkfifo foo
while true; do cat foo; done | dmenu -w "$(xdotool getactivewindow)" -l 10
</code></pre>
<pre><code>
</code></pre>
<pre><code># Append some items
printf %b "foo\nbar\nbaz\n" &gt; foo
# Append some more items
printf %b "food\nbarn" &gt; foo
</code></pre>
</p>
<h2>nonblockingstdincontrol variant</h2>
<p>The nonblockingstdincontrol variant of this patch allows you to use
control characters to dynamically clear the options list and set curr
&amp; sel. So in addition to being able to append entries with the normal
version of the nonblockingstdin patch, this variant effectively makes
dmenu's option list continouslly reloadable and the selected item /
positioning controllable at runtime.</p>
<p>Supported Control Characters:</p>
<ul>
<li>\f - Clear the current items prior to following line</li>
<li>\a - Set the following line to be equal to sel</li>
<li>\b - Set the following line to be equal to curr</li>
</ul>
<p>Example:
<pre><code># Make a fifo and read from it for dmenu's input
mkfifo foo
while true; do cat foo; done | dmenu -w "$(xdotool getactivewindow)" -l 10

# And then separately, load a first set of options:
printf %b "\ffoo\nbar\nbill" &gt; foo
# Load a different set of options using the \f escape:
printf %b "\fbark\nbarn\nboo" &gt; foo
# Using \f, \a, and \b  - load a different set of options &amp; preselect 2nd item:
printf %b "\f\bbark\n\abarn\nboo" &gt; foo
</code></pre>
</p>
<h2>Download</h2>
<ul>
<li><a href="dmenu-nonblockingstdincontrol-4.9.diff">dmenu-nonblockingstdincontrol-4.9.diff</a></li>
<li><a href="dmenu-nonblockingstdin-4.9.diff">dmenu-nonblockingstdin-4.9.diff</a></li>
<li><a href="dmenu-nonblockingstdin-20160702-3c91eed.diff">dmenu-nonblockingstdin-20160702-3c91eed.diff</a></li>
</ul>
<h2>Author</h2>
<ul>
<li>Christophe-Marie Duquesne <a href="&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#99;&#104;&#109;&#46;&#100;&#117;&#113;&#117;&#101;&#115;&#110;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#99;&#104;&#109;&#46;&#100;&#117;&#113;&#117;&#101;&#115;&#110;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a></li>
<li>koniu at riseup.net (update for 20160615 git master)</li>
<li>Miles Alan - m@milesalan.com (nonblockingstdincontrol)</li>
</ul>
</div>

</div>

</html>
