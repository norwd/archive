<html>
<head>
</head>
<body>
<h1>The case against digraphs and iso646.h
</h1>
<ul><i>
The British Standards Institute (BSI)
and the Nederlands Normalisatie Instituut (NNI)
both voted against </i><a href="na1.html"><i>Normative Addendum 1</i></a><i>
(which was then still called N1443),
but would have changed their votes to `Yes'
had the Danish proposal been removed from it.&#160;</i><tt> </tt><i>
The NNI kindly allowed us to reproduce
the text of its formal vote (which the BSI agreed with) on the
Addendum.
</i></ul>
<p>
The NNI regrets that it has to vote against SC22/N1443.&#160;<tt> </tt>
The NNI does not wish to support the solution offered for the usage
of C with national variants of
the ISO 646 character set.&#160;<tt> </tt>
This solution is contained in clauses 2, 3 and 4.4 of N1443.&#160;<tt> </tt>
<p>
There is pressure from countries using national variants of ISO 646
to have a standard way of expressing C in the
invariant subset of ISO 646 that is more aesthetically pleasing than
the trigraph solution that is embedded in the current C standard.&#160;<tt> </tt>
We understand their whish.&#160;<tt> </tt>
But we have come to the conclusion that we
do not see an acceptable way of realizing this whish.&#160;<tt> </tt>
We see three criteria for proposed solutions:
completeness, aesthetics and technical cleanness.
<ul>
<li> The solution in N1341 is both incomplete and overcomplete.&#160;<tt> </tt>
Incomplete because no solution is offered inside strings and
literal characters.&#160;<tt> </tt>
Overcomplete because, to remain consistent
with macro definitions for characters in the variant subset, it
also contains macro definitions for the invariant subset;
e.g.
<code>and_eq</code>
for
<code>&amp;=</code>,
because
<code>or_eq</code>
needs to be defined as
<code>|=</code>.
<p>
<li>
The result is barely aesthetically acceptable.
<p>
<li>
The proposal is technically feasible, but unsatisfactory.&#160;<tt> </tt>
The solution uses two technically different approaches to solve the
same problem; alternate spelling of tokens and macro
definitions.&#160;<tt> </tt>
<br>
Standardization of macro definitions is, strictly speaking, not
necessary.&#160;<tt> </tt>
Users can create their own sets of definitions, without
threatening portability.
<br>
The use of the macro names
<code>and_eq</code>
and
<code>not_eq</code>
is confusing.&#160;<tt> </tt>
<code>and_eq</code>
is to be used as replacement for the assignment operator
<code>&amp;=</code>,
while
<code>not_eq</code>
is to be used as replacement for the comparison operator
<code>!=</code>.
<br>
The proposal also seems to be in conflict with the emerging C++
standard with respect to the digraphs
<code><:</code>
and
<code>%:</code>.
</ul>

We would further like to make the following two observations:
<ol>
<li>
Usage of ISO 8859&#173;1 (Latin&#173;1), which solves this problem, is becoming
widespread.
<p>
<li>
We expect that the proposed solution will be little used.&#160;<tt> </tt>
Programs written in the ISO 646 invariant representation of C look
so different from the current representation that they will
be hard to maintain for people used to the current representation i.e
the rest of the world.&#160;<tt> </tt>
We expect that for this reason a large part of the community in countries
that stated interest in this proposal will keep on using the current
representation of C.&#160;<tt> </tt>
<br>
Furthermore, only a few
of the countries with national variants of ISO 646 have expressed interest
in this proposal.
</ol>
The proposal in clauses 2, 3 and 4.4 is not good enough to be acceptable,
even as a compromise.&#160;<tt> </tt>
Especially because it solves a disappearing problem.&#160;<tt> </tt>
We see no reason to burden the international community with this part
of N1443.
<p>
The rest of N1443 is a worthwhile document that we welcome.
We will support N1443 if the objections mentioned above are taken away
by removing the clauses 2, 3 and 4.4.
</body>
</html>
