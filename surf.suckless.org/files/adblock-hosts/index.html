<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>surf | suckless.org software that sucks less</title>
	<link rel="stylesheet" type="text/css" href="https://suckless.org/pub/style.css"/>
</head>

<div id="header">
	<a href="https://suckless.org/"><img src="https://suckless.org/logo.svg" alt=""/></a>&nbsp;
	<a id="headerLink" href="https://suckless.org/">suckless.org</a>
	<span class="hidden"> - </span>
	<span id="headerSubtitle">surf</span>
</div>
<hr class="hidden"/>
<div id="menu">
	<a href="https://suckless.org/">home</a>
	<a href="https://dwm.suckless.org/">dwm</a>
	<a href="https://st.suckless.org/">st</a>
	<a href="https://core.suckless.org/">core</a>
	<a href="../../index.html"><b>surf</b></a>
	<a href="https://tools.suckless.org/">tools</a>
	<a href="https://libs.suckless.org/">libs</a>
	<a href="https://ev.suckless.org/">e.V.</a>
	<span class="right">
		<a href="https://dl.suckless.org/">download</a>
		<a href="https://git.suckless.org/">source</a>
	</span>
</div>
<hr class="hidden"/>
<div id="content">
<div id="nav">
	<ul>
	<li><a href="../../index.html">about</a></li>
	<li><a href="../index.html"><b>files/</b></a>
		<ul>
		<li><a href="index.html"><b>adblock hosts/</b></a></li>
		<li><a href="../autologin/index.html">autologin/</a></li>
		<li><a href="../autorefresh/index.html">autorefresh/</a></li>
		<li><a href="../bmarks/index.html">bmarks/</a></li>
		<li><a href="../bmarks_history/index.html">bmarks history/</a></li>
		<li><a href="../easier_key/index.html">easier key/</a></li>
		<li><a href="../easy_links/index.html">easy links/</a></li>
		<li><a href="../edit_source/index.html">edit source/</a></li>
		<li><a href="../feeds/index.html">feeds/</a></li>
		<li><a href="../hide_applets/index.html">hide applets/</a></li>
		<li><a href="../kiosk_mode/index.html">kiosk mode/</a></li>
		<li><a href="../link_hints/index.html">link hints/</a></li>
		<li><a href="../middle_click_link/index.html">middle click link/</a></li>
		<li><a href="../not_flash/index.html">not flash/</a></li>
		<li><a href="../quick_search/index.html">quick search/</a></li>
		<li><a href="../simple_bookmarking/index.html">simple bookmarking/</a></li>
		<li><a href="../simple_bookmarking_redux/index.html">simple bookmarking redux/</a></li>
		<li><a href="../simplyread/index.html">simplyread/</a></li>
		<li><a href="../smartdownloads/index.html">smartdownloads/</a></li>
		<li><a href="../surfraw_as_searchengine/index.html">surfraw as searchengine/</a></li>
		<li><a href="../untarget/index.html">untarget/</a></li>
		</ul>
	</li>
	<li><a href="../../patches/index.html">patches/</a></li>
	<li><a href="../../screenshots/index.html">screenshots/</a></li>
	<li><a href="../../stylesheets/index.html">stylesheets/</a></li>
	</ul>
</div>
<hr class="hidden"/>
<div id="main">

<h1>Adblocking using /etc/hosts</h1>
<p>Adblocking is a non-trivial task, but there are trivial solutions.</p>
<h2>host-gen</h2>
<p>Install hosts-gen from <a href="https://r-36.net/scm/hosts-gen">https://r-36.net/scm/hosts-gen</a></p>
<pre><code>% git clone git://r-36.net/hosts-gen
% cd hosts-gen
% sudo make install
</code></pre>
<p>Make sure all your custom configuration from your current /etc/hosts is
preserved in a file in /etc/hosts.d. The files have to begin with a
number, a minus and then the name.</p>
<p>Install the gethostszero script.</p>
<pre><code># In the above directory.
% sudo cp examples/gethostszero /bin
% sudo chmod 775 /bin/gethostszero
% sudo /bin/gethostszero
% sudo hosts-gen 
</code></pre>
<p>Now the /etc/hosts with the zero hosts is ready and will be used in any
further started application.</p>
<p>The gethostszero file can of course be reused to more easier create the
/etc/hosts file. A cronjob can be used to update the file and run hosts-gen
again.</p>
<ul>
<li>Author : Christoph Lohmann &lt; 20h (at) r-36 (dot) net &gt;</li>
</ul>
<h2>zerohosts</h2>
<p>The following script gather well-known and trusted lists from various
places : <a href="https://adaway.org/hosts.txt">adaway</a>, 
<a href="https://someonewhocares.org/hosts/zero/hosts">someonewhocares</a>,
<a href="https://pgl.yoyo.org/adservers/serverlist.php?hostformat=hosts&amp;showintro=0&amp;mimetype=plaintext">pgl.yoyo</a>...</p>
<p>They are supposed to be written in <code>/etc/hosts</code> file to disable DNS resolution.</p>
<p>Get the script from here :
<a href="https://si3t.ch/code/zerohosts/zerohost.sh">zerohosts.sh</a>.</p>
<p>Include your own <code>/etc/hosts</code> rules by including a file as an argument</p>
<pre><code>zerohosts.sh /etc/myhosts.txt &gt; /etc/hosts
</code></pre>
<p>Run the script each time you want to update the lists using a cronjob, or
<code>/etc/rc.local</code>.</p>
<ul>
<li>Main page : <a href="https://si3t.ch/code/zerohosts/">https://si3t.ch/code/zerohosts/</a></li>
<li>Author : &lt; prx (at) si3t (dot) ch &gt; 
(feel free to suggest improvements)</li>
</ul>
<h2>firejail</h2>
<p>If you don't want to use your /etc/hosts file, you can use firejail:
<pre><code>
firejail --noprofile --hosts-file="~/adblockhosts" surf "example.com"
</code></pre>
</p>
</div>

</div>

</html>
