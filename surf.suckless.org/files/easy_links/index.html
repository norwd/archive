<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>surf | suckless.org software that sucks less</title>
	<link rel="stylesheet" type="text/css" href="https://suckless.org/pub/style.css"/>
</head>

<div id="header">
	<a href="https://suckless.org/"><img src="https://suckless.org/logo.svg" alt=""/></a>&nbsp;
	<a id="headerLink" href="https://suckless.org/">suckless.org</a>
	<span class="hidden"> - </span>
	<span id="headerSubtitle">surf</span>
</div>
<hr class="hidden"/>
<div id="menu">
	<a href="https://suckless.org/">home</a>
	<a href="https://dwm.suckless.org/">dwm</a>
	<a href="https://st.suckless.org/">st</a>
	<a href="https://core.suckless.org/">core</a>
	<a href="../../index.html"><b>surf</b></a>
	<a href="https://tools.suckless.org/">tools</a>
	<a href="https://libs.suckless.org/">libs</a>
	<a href="https://ev.suckless.org/">e.V.</a>
	<span class="right">
		<a href="https://dl.suckless.org/">download</a>
		<a href="https://git.suckless.org/">source</a>
	</span>
</div>
<hr class="hidden"/>
<div id="content">
<div id="nav">
	<ul>
	<li><a href="../../index.html">about</a></li>
	<li><a href="../index.html"><b>files/</b></a>
		<ul>
		<li><a href="../adblock-hosts/index.html">adblock hosts/</a></li>
		<li><a href="../autologin/index.html">autologin/</a></li>
		<li><a href="../autorefresh/index.html">autorefresh/</a></li>
		<li><a href="../bmarks/index.html">bmarks/</a></li>
		<li><a href="../bmarks_history/index.html">bmarks history/</a></li>
		<li><a href="../easier_key/index.html">easier key/</a></li>
		<li><a href="index.html"><b>easy links/</b></a></li>
		<li><a href="../edit_source/index.html">edit source/</a></li>
		<li><a href="../feeds/index.html">feeds/</a></li>
		<li><a href="../hide_applets/index.html">hide applets/</a></li>
		<li><a href="../kiosk_mode/index.html">kiosk mode/</a></li>
		<li><a href="../link_hints/index.html">link hints/</a></li>
		<li><a href="../middle_click_link/index.html">middle click link/</a></li>
		<li><a href="../not_flash/index.html">not flash/</a></li>
		<li><a href="../quick_search/index.html">quick search/</a></li>
		<li><a href="../simple_bookmarking/index.html">simple bookmarking/</a></li>
		<li><a href="../simple_bookmarking_redux/index.html">simple bookmarking redux/</a></li>
		<li><a href="../simplyread/index.html">simplyread/</a></li>
		<li><a href="../smartdownloads/index.html">smartdownloads/</a></li>
		<li><a href="../surfraw_as_searchengine/index.html">surfraw as searchengine/</a></li>
		<li><a href="../untarget/index.html">untarget/</a></li>
		</ul>
	</li>
	<li><a href="../../patches/index.html">patches/</a></li>
	<li><a href="../../screenshots/index.html">screenshots/</a></li>
	<li><a href="../../stylesheets/index.html">stylesheets/</a></li>
	</ul>
</div>
<hr class="hidden"/>
<div id="main">

<h1>Link hinting</h1>
<h2>Description</h2>
<p>This script allows a user to follow link by pressing Alt+number of the
link. Numbers are never over 5, to ease finger access.<br />  
Deploy it into ~/.surf/script.js</p>
<p><em>Needs some work on the script to permi buttons and textinput
following...</em></p>
<h2>Usage</h2>
<p>Press <code>Alt</code>, then the number of the link, and finally <code>f</code>to follow the
link, only with left hand.</p>
<h2>Author</h2>
<p>Christian hahn &lt;ch radamanthys de&gt;</p>
<p><a href="https://lists.suckless.org/dev/1009/5996.html">dev mailing list</a></p>
<h2>Code</h2>
<pre><code>// easy links for surf
// christian hahn &lt;ch radamanthys de&gt;, sep 2010
</code></pre>
<pre><code>testcomplete = function() {
	if(document.readyState=="complete") {
		run(); return;
	}
	window.setTimeout("testcomplete()",200);
}
testcomplete();
</code></pre>
<pre><code>run=function() {
	// config , any css
	var modkey      = 18;  //ctrl=17, alt=18
	var cancelkey   = 67;  // c
	var newwinkey   = 84;  // t
	var openkey     = 70;  // f
	var label_style = {"color":"black","fontSize":"10px","backgroundColor":"#27FF27","fontWeight":"normal","margin":"0px","padding":"0px","position":"absolute","zIndex":99};
	var hl_style    = {"backgroundColor":"#E3FF38","fontSize":"15px"};
	var nr_base     = 5;   // &gt;=10 : normal integer,
</code></pre>
<pre><code>	// globals
	var ankers     = document.getElementsByTagName("a");
	var labels     = new Object();
	var ui_visible = false;
	var input      = "";
</code></pre>
<pre><code>	// functions
	hl=function(t) {
		for(var id in labels) {
			if (t &amp;&amp; id.match("^"+t)==t)
				for(var s in hl_style)
					labels[id].rep.style[s]=hl_style[s];
			else
				for(var s in label_style)
					labels[id].rep.style[s]=label_style[s];
		}
	}
	open_link=function(id, new_win) {
		try {
			var a = labels[input].a;
			if(a &amp;&amp; !new_win) window.location.href=a.href;
			if(a &amp;&amp; new_win)  window.open(a.href,a.href);
		} catch (e) {}
	}
	set_ui=function(s) {
		var pos = "static";
		ui_visible = true;
		if(s == "hidden") {
			ui_visible = false;
			pos = "absolute";
			input="";
		}
		for(var id in labels) {
			labels[id].rep.style.visibility=s;
			labels[id].rep.style.position=pos;
		}
	}
	base=function(n, b) { 
		if(b&gt;=10) return n.toString();
		var res = new Array();
		while(n) {
			res.push( (n%b +1).toString() )
			n=parseInt(n/b);
		}
		return res.reverse().join("");
	}
</code></pre>
<pre><code>	// main
	// create labels
	for (var i=0; i&lt;ankers.length; i++) {
		var a = ankers[i];
		if (!a.href) continue;
		var b = base(i+1,nr_base);
		var d = document.createElement("span");
		d.style.visibility="hidden";
		d.innerHTML=b;
		for(var s in label_style)
			d.style[s]=label_style[s];
		labels[b]={"a":a, "rep":d};
		a.parentNode.insertBefore(d, a.nextSibling);
	}
</code></pre>
<pre><code>	// set key handler   
	window.onkeydown=function(e) {
		if (e.keyCode == modkey) {
			set_ui("visible");
		}
	}
	window.onkeyup=function(e) {
		if (e.keyCode == modkey ) {
			open_link(input);
			set_ui("hidden");
			hl(input);
		} else if (ui_visible) {
			if(e.keyCode == newwinkey) {
				open_link(input, true);
				set_ui("hidden");
			} else if(e.keyCode == cancelkey)
				input="";
			else if(e.keyCode == openkey) {
				open_link(input);
				set_ui("hidden");
			} else
				input += String.fromCharCode(e.keyCode);
			hl(input);
		}
	}
}
</code></pre>
</div>

</div>

</html>
