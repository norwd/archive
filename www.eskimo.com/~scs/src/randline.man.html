<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<html>
<head>
<meta name=GENERATOR content="faqproc">
<title>randline(1)</title>
</head>
<body>
<H1>randline(1)</H1>
<!-- This program and its documentation are in the Public Domain -->
<!-- and may be used and distributed without restriction. -->
<!-- Steve Summit, scs@eskimo.com -->
<!-- See http://www.eskimo.com/~scs/src/#randline for possible updates. -->
<H2>NAME</H2>

randline - deliver random line(s)
<H2>SYNOPSIS</H2>

<B>randline</B>
[
-s
]
[
-#
]
[
files
]
<H2>DESCRIPTION</H2>

<p><I>randline</I> selects a random line or lines from its input,
either standard input or the named <I>files</I>.
The algorithm used is the classic one-pass one described in Knuth,
with a couple of extensions.
</p><p>There are a few options:
<dl>
<dt><B>-kh</B>
</dt><dd>(``keep header'')
Always pass through the first line of the input
(which is assumed to be a header of some sort);
perform random selection from among the remaining lines.
</dd><dt><B>-n</B> <I>n</I>
</dt><dd>(or just <B>-</B><I>n</I>)
Select <I>n</I> lines.
</dd><dt><B>-s</B>
</dt><dd>(``stable'')
When selecting more than one line,
print them out in the same order they were in in the input,
rather than
shuffling them
randomly.
</dd><dt><B>-seed</B> <I>s</I>
</dt><dd>Use initial random seed <I>s</I>.
</dd><dt><B>-seedfile</B> <I>f</I>
</dt><dd>Save random seed state in file <I>f</I>
for repeatable behavior between runs.
</dd><dt><B>-version</B>
</dt><dd>Print program's version number.
</dd><dt><B>-w</B>
</dt><dd>Use weighted probabilities when selecting lines.
The first
(or last, whichever looks numeric)
column on each input
line gives its ``weight''.
Lines with higher weights are selected
with higher probability:
specifically,
if two lines a and b have weights in the ratio m:n,
line a will be selected m/n times as often as line b.
(The weights
of the selected lines
are <em>not</em> printed on output.) 
</dd><dt></dt><dd>Another way of thinking about this is that
if an input line has weight <I>w</I>,
the behavior is the same as if that line appeared
in the input
<I>w</I> times.
</dd><dt></dt><dd>(This feature is still somewhat experimental.)
</dd><dt><B>-?</B>, <B>-help</B>
</dt><dd>Print a brief help message.
</dd></dl>
</p><H2>BUGS</H2>

<p>There is a fixed limit
(currently 1000)
on the longest input line that can be read.
</p><p>There is no provision for
fractional or floating-point weights
under the <B>-w</B> option;
all weights must be integral.
</p><H2>SEE ALSO</H2>

<a href="shuffle.man.html"><I>shuffle</I></a>
<H2>HISTORY</H2>

<p>The program is based on the algorithm in Knuth, section xxx.
</p><p>This documentation corresponds to version 3.01 of the program.
</p><p>See
<a href="index.html#randline"><TT>http://www.eskimo.com/~scs/src/#randline</TT></a>
for possible updates.
</p><H2>AUTHOR</H2>

<p><a href="../index.html">Steve Summit</a>,
<TT>scs@eskimo.com</TT>
</p><hr>
<hr>
<p>
</p>
</body>
</html>
