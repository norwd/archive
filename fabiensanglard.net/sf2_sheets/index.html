<html>
<head>
  <link rel="alternate" type="application/rss+xml"  title="RSS Feed for fabiensanglard.net" href="../rss.xml" />
  <style type="text/css">

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono.woff2');
      font-display: block;
    }

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono-Bold.woff2');
      font-weight: bold;
      font-display: block;
    }

    * {
       font-size: 16px;
    }

    html {
      font-family: fabfont,  monospace;
      max-width: 900px;  /* For Desktop PC (see @media for Tablets/Phones) */
      padding-left: 2%;
      padding-right: 3%;
      margin: 0 auto;
      background: #F5F5F0;
  	} 
    


  	a {
      color: black;
      font-weight: bold;
    }

    img {
      border: none; 
    }

    p {
      margin-top: 0px;
      text-align: justify;
    }
    sup {
      vertical-align: 0.3em;
      font-size: 0.65em;
    }   

    pre {
      font-family: fabfont, monospace;
      background-color: white; 
      border: 1px solid Black; 
      padding-left: 2%;
      padding-top: 1ch;
      padding-bottom: 1ch;
      /* Only take care of X overflow since this is the only part that can be too wide.
         The Y axis will never overflow.
      */
      overflow: hidden;
    }

    div.heading {
      font-weight: bold;      
      text-transform: uppercase;
      margin-top: 4ch;
    }

    /** {
      font-size: 16px;
    }*/
    @media (max-width: 500px) { /* For small screen decices */
      * {
        font-size: 12px; 
      }
    }   
    .title {
      text-decoration: none;
    }

    img.pixel, canvas.pixel {
      image-rendering: pixelated;
      image-rendering: -moz-crisp-edges;
      image-rendering: crisp-edges;
    }

    blockquote { 
    background-color: #f3f3f3;
    border: dashed 1px grey; 
    width: 97.5%; 
    font-style: italic; 
    text-align: justify;

    padding: 1ch; 
    padding-top: 2ch; 
    padding-bottom: 2ch;     
    
    margin : 0ch; 
    margin-bottom: 2ch; 
    margin-top: 0ch;
  }

  blockquote div {
    text-transform: none;
    text-align: right;
    width: 100%;
  }

  code {
    /*font-size: 110%;*/
    font-weight: bold;
    background-color: #e1e1e1;
    border-radius: 0.5ch;
    padding-left: 0.3ch;
    padding-right: 0.3ch;
  }

  .trivia {
    border-left: 1px black solid;
    padding-left: 1ch;
  }

  .trivia::before {
  font-weight: bold;
  text-decoration: underline;
  padding-right: 1ch;
  content: "Trivia:";

  </style>
  <title>Street Fighter II, paper trails</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=12.0, minimum-scale=1.0, user-scalable=yes">
</head>  
  <body><br><center>
    <div style="display: inline-block; vertical-align:middle;">
<a href="../index.html" class="title"><b>FABIEN SANGLARD'S WEBSITE</b><br>
</a><hr/><div style="text-align: justify;display: inline-block; width: 100%;">
<!-- <a class="title" href="/about/index.html">ABOUT</a> &nbsp;<a class="title" href="/contact/index.html">EMAIL</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">DONATE</a></div></div> -->
<a class="title" href="../about/index.html">ABOUT</a> &nbsp;<a class="title" href="../contact/index.html">CONTACT</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">GIVE</a></div></div>

</center><br><br>
<div style="margin-bottom: 2ch;text-transform: none;">
Dec 22, 2021</div>
<div class='heading'>Street Fighter II, paper trails</div><hr/><style type="text/css">

img {
    border: 1px black solid;
}

code {
    font-weight: bold;
    background-color: #e1e1e1;
    border-radius: 0.5ch;
    padding-left: 0.3ch;
    padding-right: 0.3ch;
}

.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table td.crossed
{
   background-image: linear-gradient(to bottom right,  transparent calc(50% - 0.5px), black, transparent calc(50% + 0.5px)); 
}

</style>
  
<p>
    The late 90s saw the emergence of Capcom in the world of arcades. The Osaka based company seemed to produce one hit after another with Ghouls'n Ghosts in 1988, Final Fight in 1989 and Street Fighter II in 1991 among a myriad of other excellent games.
</p>
<p>
    During this era, a video-game enthusiast could not go to an arcade without seeing multiple Capcom cabinets, proof of their popularity with both players and operators.
</p>
<p>    
    Over the past six months, I have spent my spare time studying Capcom success stories and in particular the genesis of Street Fighter II. If discovering the engineering behind the CPS-1 was fascinating, I found the side story of how developers tracked ROM budget using paper and scissors equally interesting.
</p>

<div class='heading'>CP-System 101</div><hr/><p>
    Introduced in 1988, the CPS-1 (a.k.a CP-System at the time) was Capcom unified arcade platform. Among its many innovations was a powerful graphic rendering pipeline.
</p>
<p>
    If it still embraced the concept of layers, the CPS-1 abandoned the constraint of rectangular sprites. The OBJ layer is built via 16x16 units called "tile". In Street Fighter II, tiles are combined to make character poses. This approach gave considerable freedom to the artists who proceeded with designing "objects" of arbitrary sizes and shapes.
</p>

    <table align="center" width="100%" style="vertical-align: bottom; margin-bottom: 2ch;">
        <tr>
<td width="16%" style="vertical-align: bottom;">
    <img loading="lazy" src="ryu.svg" class="pixel" width="64.300003" height="128.3" style="width: 100%; height: auto; border:none;"/></td>
<td width="27.8%" style="vertical-align: bottom;">
    <img loading="lazy" src="sagat.svg" class="pixel" width="112.3" height="112.3" style="width: 100%; height: auto; border:none;"/>    </td>
<td width="32%" style="vertical-align: bottom;">
    <img loading="lazy" src="honda.svg" class="pixel" width="128.3" height="144.3" style="width: 100%; height: auto; border:none;"/>    </td>  
    <td width="24%" style="vertical-align: bottom;">
    <img loading="lazy" src="chunLi.svg" class="pixel" width="96.5" height="96.5" style="width: 100%; height: auto; border:none;"/>    </td>     
</tr>
<tr align="center" >
   <td style="padding-top: 1ch;"><small>Ryu's victory pose (29 tiles)</small></td>
   <td style="padding-top: 1ch;"><small>Sagat's Tiger Uppercut pose (30 tiles)</small></td>
   <td style="padding-top: 1ch;"><small>Honda's Jump pose (45 tiles)</small></td>
   <td style="padding-top: 1ch;"><small>Chun-li being awesome pose (25 tiles)</small></td>
 </tr>
</table>
<p>
    Besides a few basic operations such as horizontal and vertical flipping, the CPS-1 cannot alter tiles. It has no rotating or scaling capabilities. What made the machine stand out was the sheer volume of tiles it could manipulate per frame, reported to be in the vicinity of 256.
</p>
<p>
    It was a real tour-de-force at the time to make so much of the screen move. The "wow" factor immensely contributed to the success of the games. In a game like "The Punisher", the kingpin final boss is made of poses reaching up to 80 tiles.
</p>
<img loading="lazy" src="kingpin.png" class="pixel" style="width: 100%;aspect-ratio:4/3; margin-bottom:1ch;border: 2px solid black;padding: 0;"/><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>"The Punisher" screen can be almost covered with sprites (Source: rq87.flyingomelette.com).</small></i></span>


<div class='heading'>ROM Budget</div><hr/><p>
If the CPS-1 capabilities were a blessing for artists, it was a problem for project managers. In an era where ROM chips were very expensive, a game was allocated a ROM budget at its beginning which it could not exceed.
</p>
<p>
 Before the CPS-1, remaining within the budget was a simple matter of a division. The number of #sprites allowed to the art team was ROM size / rectangular sprite size. But the free form factor introduced a tracking problem.
</p>

<div class='heading'>The sheet system</div><hr/>
<p>
    The solution came under the form of paper sheets and scissors.
</p> 
   
   <blockquote>
   In order to make the best use of the capacity we had, we wrote the ROM’s capacity on a board, and cut and paste the pixel characters on the board.
   <br/>
<br/>
If there was space left on the board, then there was open capacity in the ROM. So, from there we started filling in the spaces, like a puzzle. 
   <br/>
<br/> 
One thing that happened that’s kinda interesting, we saved making the ending for last, and by the time we got there we were all out of capacity. We were wondering what to do, when we found a board that had gone missing under a desk. 
   <br/> 
<br/>
We called it the ”Mirac-ulous Memory.”
<br/>
<br/>
<div>- Akira Nishitani, SF2 development interview</div>
</blockquote>


<img loading="lazy" src="rom_sheet.svg" class="pixel center" width="238.49585mm" height="226.91621mm" style="width: 50%; height: auto; margin-bottom:1ch;padding: 0; border:0"/><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>A blank sheet</small></i></span>

	

</p>



<p>
    Since the CPS-1 uses 16 indexed colors (4-bit per pixel), a sheet of 16x16 tiles represents 16x16x16x16 / 2 = 32 KiB. For a game such as Street Fighter II: World Warrior, the team allocated 4.6 MiB out of its 6 MiB ROM budget to sprites and therefore printed 144 paper sheets.
</p>


<div class='heading'>Sheets archeology</div><hr/><p>
  This system is a golden opportunity for a software archaeologist. Among other things one can see which features were added later (these would be implemented using left-over space and therefore less elegantly cut out).
</p>
<p>
   Unfortunately, I was only able to come across two of them. I found a Dhalsim in the article "Final Fight Developer's Interview"<a name="back_1" style="text-decoration: none;" href="index.html#footnote_1"><sup>[1]</sup></a> and a Ryu in the book "How To Make Capcom Fighting Characters"<a name="back_2" style="text-decoration: none;" href="index.html#footnote_2"><sup>[2]</sup></a>. 
</p>
 <table style="margin-bottom: 2ch;">
        <tr>
            <td width="48.9%" align="center" style="padding-right:1ch;">
                <img loading="lazy" src="rom_sheet_dhalsim.webp" width="800" height="662" style="width: 100%; height: auto; margin-bottom:1ch;"/>
</td>
<td width="50.25%">
<img loading="lazy" src="rom_sheet_ryu.webp" width="2187" height="1729" style="width: 100%; height: auto; margin-bottom:1ch;"/></td>
</tr>
<tr align=center><td>Sheet <code>0x3300</code> </td><td>Sheet <code>0x4500</code></td></tr>
</table>
<p>
  Notice the tile addressing system in the upper left of each sheet (Dhalsim <code>0x3300</code> and Ryu <code>0x4500</code>). The first two hex characters give a value [0-255] which is the sheet ID while the two remaining are the tile ID within that sheet.
</p> 
<p>
  Also notice how the sheet tiles are rectangular instead of square. The CP-System uses a resolution of 384×224 which aspect ratio differs from the 4:3 aspect ratio of a CRT. Had designers drew in squares, the result would have been compressed on screen. By drawing in rectangles, they essentially reverse-stretched the visual assets so tiles would be displayed as they were drawn. This non-square pixel system was a nightmare for the art team.
</p>

   <blockquote>
When I was working on Forgotten Worlds, I noticed the problem of aspect ratio. "The pixels are not square!" I told my boss.
<br/><br/>
"Impossible, I ordered them to be square!" he replied and called hardware on the spot.
<br/><br/>
"The pixels are square!" he replied.
<br/><br/>
Later I protested again to which my boss replied it was a calculation error.
<br/>
<br/>
<div>- Akira Yasuda, SF2 producer<a name="back_3" style="text-decoration: none;" href="index.html#footnote_3"><sup>[3]</sup></a>)</div>
</blockquote>

<p>
  It was disappointing to see that only two sheets had come out but it was possible to reconstruct them using the imprint left in the ROM. Thanks to mame and sf2platinium providing the GFX-ROM format, a tool<a name="back_4" style="text-decoration: none;" href="index.html#footnote_4"><sup>[4]</sup></a> was written to automate the process. With all the sheets reconstructed, it was analysis and hypothesis time.
</p>

<div class='heading'>Exploring the sheets</div><hr/><p>
    The CPS-1 works with four layers. The OBJ layer of Street Fighter II is made of 144 sheets totaling 4.6MiB. The remaining 1.4MiB is used for the background and frontground layers called SCROL1 (16 sheets), SCROL2 (8 sheets), and SCROL3 (23 sheets).
</p>
<img loading="lazy" src="sf2_sheets_stats.svg" class="pixel" width="192.61467mm" height="63.089588mm" style="width: 100%; height: auto; border:none; margin-bottom: 3ch;margin-top: 2ch;"/><p>
   The most byte-heavy characters are Zangief (19), followed by Honda (15), Dhalsim (14, he is slim but stretches a lot!),  Blanka (15), Ryu (13.5), Guile (11), Chun-li (10), Dictator (9, his cape takes a whole sheet!), Sagat (6), Boxer (6), Claw (6), and Ken (3).
 </p>
 <p>
    The first sheet features, without surprise, the main protagonist Ryu.
</p>
<img loading="lazy" src="0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 50%; height: auto; margin-bottom: 2ch; border: none;"/><p>
     Notice how Ryu's top hair for <code>0x69</code>/<code>0x6A</code> was placed at <code>0x6F</code>/<code>0x9F</code> in order to not disturb the layout. Why the hair of the top left pose is offsetted is unknown. Could it be that GFX ROM address <code>0x0000</code> could not be used? Analyzing other games also showed that tile <code>0x0000</code> was never used.
</p>


<div class='heading'>Ken is a patch</div><hr/><p>
  <table style="float:right; margin-left:2ch; width:28%;">
   <tr><td>



    <table width="100%" border="1" cellpadding="0" cellspacing="0" style="border-collapse:collapse;">
      <tbody><tr>
          <td class="t" style="background-color: #111111FF">&nbsp;</td>
          <td class="t" style="background-color: #ffdd99FF">&nbsp;</td>
          <td class="t" style="background-color: #ffbb88FF">&nbsp;</td>
          <td class="t" style="background-color: #ee9977FF">&nbsp;</td>
          <td class="t" style="background-color: #cc8866FF">&nbsp;</td>
          <td class="t" style="background-color: #996655FF">&nbsp;</td>
          <td class="t" style="background-color: #664433FF">&nbsp;</td>
          <td class="t" style="background-color: #bb0000FF">&nbsp;</td>
      </tr>
      <tr>
          <td class="t" style="background-color: #ffffffFF">&nbsp;</td>
          <td class="t" style="background-color: #eeeeccFF">&nbsp;</td>
          <td class="t" style="background-color: #ddccaaFF">&nbsp;</td>
          <td class="t" style="background-color: #bbaa88FF">&nbsp;</td>
          <td class="t" style="background-color: #aa8877FF">&nbsp;</td>
          <td class="t" style="background-color: #776655FF">&nbsp;</td>
          <td class="t" style="background-color: #ff0000FF">&nbsp;</td>
          <td class="t crossed">&nbsp;</td>
      </tr>
    </tbody>
    </table>

</td><tr><td>

<span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Ryu palette</small></i></span>
  </div>

</td></tr><tr><td>


<table width="100%" border="1" cellpadding="0" cellspacing="0" style="border-collapse:collapse;"><tbody><tr>
<td class="t" style="background-color: #111111FF">&nbsp;</td>
    <td class="t" style="background-color: #ffffbbFF">&nbsp;</td>
    <td class="t" style="background-color: #ffdd99FF">&nbsp;</td>
    <td class="t" style="background-color: #eeaa77FF">&nbsp;</td>
    <td class="t" style="background-color: #dd8866FF">&nbsp;</td>
    <td class="t" style="background-color: #aa6655FF">&nbsp;</td>
    <td class="t" style="background-color: #664433FF">&nbsp;</td>
    <td class="t" style="background-color: #ffee66FF">&nbsp;</td>
    </tr>
  <tr>
  <td class="t" style="background-color: #ff6600FF">&nbsp;</td>
    <td class="t" style="background-color: #ff4400FF">&nbsp;</td>
    <td class="t" style="background-color: #ff0000FF">&nbsp;</td>
    <td class="t" style="background-color: #cc0000FF">&nbsp;</td>
    <td class="t" style="background-color: #990000FF">&nbsp;</td>
    <td class="t" style="background-color: #660000FF">&nbsp;</td>
    <td class="t" style="background-color: #ffcc00FF">&nbsp;</td>
    <td class="t crossed">&nbsp;</td>
</tr></tbody></table>
</td></tr>
<tr><td>
<span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Ken palette</small></i></span>

</td></tr>
  </table>

<p>
  Looking at the pie chart, we can see that Ken character is consuming an impossibly small amount of three sheets.
</p> 
<p>That is because Ken is a patch on top of Ryu tiles. Ryu palette is specially designed to be skin tone compatible with Ken. Only the clothes and face colors differ.
</p>

<table style="width: 100%;"><tr><td style="width: 50%;">
<img loading="lazy" src="0x0100.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; margin-bottom:2ch;border:none;"/></td><td  style="width: 50%;">
<img loading="lazy" src="0x4700.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; margin-bottom:2ch;border:none;"/></td></tr></table>
</p>

<p>The patching is obvious on sheet <code>0x0100</code> where Ryu's winning pose <code>0x76</code> is next to Ken 2x2 patch at <code>0x70</code>.
</p>

<table style="width: 100%;"><tr>
<td style="width: 19%;"><img loading="lazy" src="ryu.svg" class="pixel" width="64.300003" height="128.3" style="width: 100%; height: auto; border:none;"/></td>
<td style="width: 19%;"><img loading="lazy" src="kenWin.svg" class="pixel" width="64.5" height="128.5" style="width: 100%; height: auto; border:none;"/></td>
<td style="width: 19%;"><img loading="lazy" src="kenWinHole.svg" class="pixel" width="64.5" height="128.5" style="width: 100%; height: auto; border:none;"/></td>
<td style="width: 19%;"><img loading="lazy" src="kenWinPatch.svg" class="pixel" width="64.5" height="128.5" style="width: 100%; height: auto; border:none;"/></td>
<td style="width: 19%;"><img loading="lazy" src="kenWinFinal.svg" class="pixel" width="64.5" height="128.5" style="width: 100%; height: auto; border:none;"/></td>
</tr>
</table>
<p style="padding-top: 2ch;">Ken's victory pose starts with Ryu's pose. The palette is changed and only differing tiles are used. Notice how Ryu's teeth white color comes from his clothes. For Ken, artists had to reuse some of the skin color because Ken's Gi is red.
</p>

<div class='heading'>Hunting crumbles</div><hr/><p>
  In sheet <code>0x4700</code> ("Ken is patch" section), we can see a 2x2 portrait at <code>0xC0</code> that is not a fighter. This is in fact the picture of the development team. They are featured in the credit at the end of the game. Notice how it features neither accurate pictures nor give real names. Likely done so to avoid talent poaching. 
</p>
 <script type="text/javascript">
    function slide(e) {
      var slider = document.getElementById('slider');
      var img = document.getElementById('spin');
      img.src = "credit" + e.value + ".png";
    }
  </script>
<img class="pixel" id="spin" src="credit1.png" style="margin-bottom:2ch; width:100%;aspect-ratio: 4 / 3; margin-bottom: 1ch;"/>
<input type="range" id="slider" min="1" max="4" style="width:100%; margin-bottom: 2ch;" oninput="slide(this);" value="0" />

<p>Fun fact: "NIN" is the alias of Akira Nishitani who was a producer at Capcom. It was used for all high scores in all games he worked on including Forgotten Worlds, Final Fight, and Street Fighter 2.
</p>


<div class='heading'>No small saving</div><hr/><p>
  Developers seem to have been so short on ROM that they even used partial pose symmetry. In <code>0x4E00</code>, Sagat's left leg is missing at <code>0xBA</code>. To draw it, the CPS-1 is instructed to use the right leg tiles and flip them horizontally.
</p>
<img loading="lazy" src="0x4e00.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 50%; height: auto; margin-bottom:2ch;border:none;"/>


<div class='heading'>Dhalsim (0x3300) sheet differences</div><hr/><p>
   <table style="margin-bottom: 2ch;">
        <tr>
            <td width="55%" align="center">
                <img loading="lazy" src="rom_sheet_dhalsim.webp" width="800" height="662" style="width: 100%; height: auto; "/>
</td>
<td >
  <img loading="lazy" src="0x3300.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/></td>
</tr>
</table>
<p>
  Dhalsim reconstructed sheet is a near perfect match. Although we can see that the pose outlined in red did not make the cut. It was sacrificed to Chun-li's "Hundred Rending Legs" which would indicate it was a later addition. At <code>0x4C</code> we can see crumble space was allocated to Blanka. 
</p>

<div class='heading'>Ryu (0x4500) sheet differences</div><hr/><p>
   <table style="margin-bottom: 2ch;">
        <tr>
            <td width="56.22%" align="center">
              <img loading="lazy" src="rom_sheet_ryu.webp" width="2187" height="1729" style="width: 100%; height: auto; "/>
</td>
<td>
  <img loading="lazy" src="0x4500.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>
</td>
</tr>
</table>
<p>
  Similar differences can be seen in Ryu's sheet. Two poses (at <code>0xC2</code> and <code>0xCC</code>) were deleted before shipping to accommodate Chun-li's "Spinning Bird Kick" (a move also added at the end of development?) and the team credit portraits.
</p>

<div class='heading'>For how long was the sheet system used?</div><hr/><p>
	With powerful workstations such as the X68000 around at the time, I always wondered for how long the sheet system was used before a tool was written to compile the GFX assets. With the ability to look at other game sheets, it was possible to make a rough estimate.
</p>
<p>
	The first destination was to visit all games made by the same team starting with titles released prior to SF2, Forgotten World and Final Fight. Although I did not take the time to locate the palettes and used a default greyscale, it was still possible to see shapes distinctively.
</p>

<table style="width: 100%; margin-bottom: 2ch;"><tr>
	<td style="width: 50%;">
		<img loading="lazy" src="fw-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>	</td>
	<td  style="width: 50%;">
        <img loading="lazy" src="ff-0x0400.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>    </td></tr>
    <tr>
    	<td><span style="text-align: center; display: block;"><i><small>Forgotten World sheet (1988)</small></i></span></td>
    	<td><span style="text-align: center; display: block;"><i><small>Final Fight sheet (1989)</small></i></span></td>
    </tr>	
</table>

<p>
Without surprise, the same structure was found. Later games such as Street Fighter 2: Champion Edition and Street Fighter 2: Hyper Fighting were also checked. The GFX received minimal improvements<a name="back_5" style="text-decoration: none;" href="index.html#footnote_5"><sup>[5]</sup></a> and the sheet structure remains unchanged.
</p>

<table style="width: 100%;margin-top: 2ch;"><tr>
	<td style="width: 50%;">
		<img loading="lazy" src="sf2hf-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>	</td>
	<td  style="width: 50%;">
        <img loading="lazy" src="sf2hf-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>    </td>
    </tr>
     <tr>
     		<td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Street Fighter 2: Champion Edition (1992)</small></i></span></td>
    	<td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Street Fighter 2: Hyper Fighting sheet (1992)</small></i></span></td>
    	
    </tr>	
</table>


<div class='heading'>Other Capcom teams</div><hr/><p>
	Capcom had several titles produced in parallel by different teams. Checking other teams' work responsible for Ghouls 'n Ghosts and Strider showed once again the same process albeit less crammed.
</p>
<table style="width: 100%;margin-bottom: 2ch;"><tr>
	<td style="width: 50%;">
		<img loading="lazy" src="gg-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>	</td>
	<td  style="width: 50%;">
        <img loading="lazy" src="strider-0x0c00.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>    </td></tr>
    <tr>
    	<td><span style="text-align: center; display: block;"><i><small>Ghouls 'n Ghosts sheet (1988)</small></i></span></td>
    	<td><span style="text-align: center; display: block;"><i><small>Strider sheet (1989)</small></i></span></td>
    </tr>	
</table>




<div class='heading'>Non-Capcom games</div><hr/><p>
	Some CPS-1 games were not produced by Capcom. This was the case for Pang-3 by Mitchell Corporation. Once again, no changes.
</p>
<img loading="lazy" src="pang3-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 50%; height: auto; margin-bottom: 2ch; border: none;"/>	




<div class='heading'>CPS-2 and Super Street Fighter 2</div><hr/><p>
	It seems like the sheet system was in effect for most if not all CPS-1 games. Looking at CPS-2 games was a bit more difficult since Capcom added many protection mecanisms. While the 68000 instructions and Z-80 instructions were encrypted, the GFX ROMs are merely shuffled and easily viewable.
</p>

<p>
	
	In the first CPS-2 title, Super Street Fighter 2 (1993), four new characters were added to the existing twelve roster. The existing character sheets are unchanged.
</p>

<table style="width: 100%;margin-top: 2ch;"><tr>
	<td style="width: 50%;">
		<img loading="lazy" src="ssf-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>	</td>
	<td  style="width: 50%;">
        <img loading="lazy" src="ssf-0x9000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>    </td></tr>
     <tr>
    <td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Super Street Fighter 2 Ryu sheet (1993)</small></i></span></td>
    	<td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Super Street Fighter 2 Cammy sheet (1993)</small></i></span></td>
    </tr>	
</table>

<p>
	But if we look at Cammy sheets (<code>0x9000</code>) the layout was clearly not made by hand. It seems an allocation system proceeding top to bottom and left to right was used instead. It seems like Capcom started using tools to build new GFX ROMs for SSF2 circa 1992. Whether x68000 workstations were used remains unknown.
</p>

<div class='heading'>Street Fighter Alpha</div><hr/><p>
Moving forward with CPS-2 titles, Street Fighter Alpha (1995) and Street Fighter Alpha 3 (1998) both show the same type of structure indicative of a tool. All sheets look like mashed potatoes without any wasted tile space. It is likely that none of the CPS-2 titles used the sheet system.
</p>
<table style="width: 100%;margin-top: 2ch;"><tr>
	<td style="width: 50%;">
		<img loading="lazy" src="sfa-0x0400.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>	</td>
	<td  style="width: 50%;">
        <img loading="lazy" src="sfa3-0x0000.svg" class="pixel center" width="133.98253pt" height="136.40675pt" style="width: 100%; height: auto; border:none;"/>    </td></tr>
     <tr>
    	<td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Street Fighter Alpha sheet (1995)</small></i></span></td>
    	<td><span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>Street Fighter Alpha 3 sheet (1998)</small></i></span></td>
    </tr>	
</table>

<div class='heading'>Call for interview</div><hr/><p>
  I have made several attempts to talk with developers who worked on CPS-1/CPS-2 systems. All of them have failed so far. I would like to document and preserve how these machines were programmed. I am especially interested in knowing how the X68000 was used. If you have first hand experience or if you can get someone in touch with me, please email me :) !
</p><style type='text/css'>td.ref {  padding-bottom: 0ch; width:0;}</style><div class='heading'>References</div><hr/><p id='paperbox' style='text-align:left;'><table><tbody style='vertical-align: top;'><tr><td class='ref' style='width:1ch;'><a name="footnote_1"></a><a href="index.html#back_1">^</a></td><td  class='ref' style='width:4ch;'> [1]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://game.capcom.com/cfn/sfv/column/132673">Final Fight Developer's Interview</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_2"></a><a href="index.html#back_2">^</a></td><td  class='ref' style='width:4ch;'> [2]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.amazon.com/How-Make-Capcom-Fighting-Characters/dp/1772941360">How To Make Capcom Fighting Characters</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_3"></a><a href="index.html#back_3">^</a></td><td  class='ref' style='width:4ch;'> [3]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://twitter.com/akiman7/status/465507673572519936">Akiman's Twitter account</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_4"></a><a href="index.html#back_4">^</a></td><td  class='ref' style='width:4ch;'> [4]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://github.com/fabiensanglard/cpsb/tree/main/tools/sheet">Tool CPSheet</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_5"></a><a href="index.html#back_5">^</a></td><td  class='ref' style='width:4ch;'> [5]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.youtube.com/watch?v=Y7mehuJ9zBE">Differences Between SF2 World Warrior and SF2 Champion Edition</a></td></tr></tbody></table></p> <hr>
 <center>*