<html>
<head>
  <link rel="alternate" type="application/rss+xml"  title="RSS Feed for fabiensanglard.net" href="../rss.xml" />
  <style type="text/css">

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono.woff2');
      font-display: block;
    }

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono-Bold.woff2');
      font-weight: bold;
      font-display: block;
    }

    * {
       font-size: 16px;
    }

    html {
      font-family: fabfont,  monospace;
      max-width: 900px;  /* For Desktop PC (see @media for Tablets/Phones) */
      padding-left: 2%;
      padding-right: 3%;
      margin: 0 auto;
      background: #F5F5F0;
  	} 
    


  	a {
      color: black;
      font-weight: bold;
    }

    img {
      border: none; 
    }

    p {
      margin-top: 0px;
      text-align: justify;
    }
    sup {
      vertical-align: 0.3em;
      font-size: 0.65em;
    }   

    pre {
      font-family: fabfont, monospace;
      background-color: white; 
      border: 1px solid Black; 
      padding-left: 2%;
      padding-top: 1ch;
      padding-bottom: 1ch;
      /* Only take care of X overflow since this is the only part that can be too wide.
         The Y axis will never overflow.
      */
      overflow: hidden;
    }

    div.heading {
      font-weight: bold;      
      text-transform: uppercase;
      margin-top: 4ch;
    }

    /** {
      font-size: 16px;
    }*/
    @media (max-width: 500px) { /* For small screen decices */
      * {
        font-size: 12px; 
      }
    }   
    .title {
      text-decoration: none;
    }

    img.pixel, canvas.pixel {
      image-rendering: pixelated;
      image-rendering: -moz-crisp-edges;
      image-rendering: crisp-edges;
    }

    blockquote { 
    background-color: #f3f3f3;
    border: dashed 1px grey; 
    width: 97.5%; 
    font-style: italic; 
    text-align: justify;

    padding: 1ch; 
    padding-top: 2ch; 
    padding-bottom: 2ch;     
    
    margin : 0ch; 
    margin-bottom: 2ch; 
    margin-top: 0ch;
  }

  blockquote div {
    text-transform: none;
    text-align: right;
    width: 100%;
  }

  code {
    /*font-size: 110%;*/
    font-weight: bold;
    background-color: #e1e1e1;
    border-radius: 0.5ch;
    padding-left: 0.3ch;
    padding-right: 0.3ch;
  }

  .trivia {
    border-left: 1px black solid;
    padding-left: 1ch;
  }

  .trivia::before {
  font-weight: bold;
  text-decoration: underline;
  padding-right: 1ch;
  content: "Trivia:";

  </style>
  <title>The story of the Rendition V&eacute;rit&eacute; 1000</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=12.0, minimum-scale=1.0, user-scalable=yes">
</head>  
  <body><br><center>
    <div style="display: inline-block; vertical-align:middle;">
<a href="../index.html" class="title"><b>FABIEN SANGLARD'S WEBSITE</b><br>
</a><hr/><div style="text-align: justify;display: inline-block; width: 100%;">
<!-- <a class="title" href="/about/index.html">ABOUT</a> &nbsp;<a class="title" href="/contact/index.html">EMAIL</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">DONATE</a></div></div> -->
<a class="title" href="../about/index.html">ABOUT</a> &nbsp;<a class="title" href="../contact/index.html">CONTACT</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">GIVE</a></div></div>

</center><br><br>
<div style="margin-bottom: 2ch;text-transform: none;">
April 1, 2019</div>
<div class='heading'>The story of the Rendition V&eacute;rit&eacute; 1000</div><hr/>
<p>
<picture>
    <source srcset="Rendition.webp" type="image/webp">
    <img loading="lazy" src="Rendition.png" width="586" height="562" style="width: 30%; height: auto; float:right;margin-bottom: 2ch; margin-left: 2ch;border: solid 1px black;"/></picture>
There is a lot of good literature about Quake engine. Innumerable web articles, blogs, wikis, and books. Among all of these, the <i>"Graphics Programming Black Book"</i> by Michael Abrash published in 1997 and <i>"Rocket Jump: Quake and the Golden Age of First-Person Shooters"</i> by David L. Craddock published in 2018 are my favorites.<br>
<br>
Regrettably, there is little to read about the hardware invented around 1996 to improve 3D rendering and in particular id Software's ground-breaking title. Within the architecture and design of these pieces of silicon lies the story of a technological duel between Rendition's V1000 and 3dfx Interactive's Voodoo.<br/>
<br/>
With the release of vQuake in early December 1996, Rendition seemed to have taken the advantage. The V1000 was the first card able to run Quake with an hardware acceleration claiming a 25 Mpixel/s fill-rate<a name="back_1" style="text-decoration: none;" href="index.html#footnote_1"><sup>[1]</sup></a> . Just in time for Christmas, the marketing coup allowed players to run the game at a higher resolution with a higher framerate and 16-bit colors<a name="back_2" style="text-decoration: none;" href="index.html#footnote_2"><sup>[2]</sup></a>. But as history would have it, a flaw in the design of the V&eacute;rit&eacute; 1000 was to be deadly for the innovative company.<br/>
</p>
<div style="clear:both;"></div>
 


<div class='heading'>Good timing and Killer Apps</div><hr/><p>
The idea of having hardware dedicated to accelerating graphics did not happen overnight. As early as 1954, United Airlines had flight simulators to train their pilots. A major player in the field, Silicon Graphics, Inc. (SGI)'s had been around since 1982 and offered at the time powerful workstation such as the Indy, the O2, and the Indigo&sup2;. The pricetag of these machines however kept them out of hand from regular consumers (a 1996 SGI Infinite Reality pricetag would range from $99,900 to $634,900<a name="back_3" style="text-decoration: none;" href="index.html#footnote_3"><sup>[3]</sup></a>, the equivalent of $160,945-$1,022,864 in 2019). What happened in the late 90s was a combination of three factors.<br/>
<br/>
    <img loading="lazy" src="price_of_ram.svg" width="472.05576" height="269.62759" style="width: 50%; height: auto; float:right;margin-bottom: 2ch; margin-left: 2ch;"/>First, the price of RAM dropped significantly. Even though the mid-90s suffered the great RAM shortage of 1995 (mostly due to Microsoft Windows 95 recommending 8 MiB for their OS), the price of RAM fell by almost 90% over a year. This opened the door to a card with mind-blowing high-resolution framebuffers (640x480, 16-bit RGB color) and able to store textures locally.<br/>
<br/>
Second, the performance of RAM improved. FastPage RAM had been a step up over DRAM but with the release of EDO RAM, latency dropped 30% with a RAM driving 50-ns<a name="back_4" style="text-decoration: none;" href="index.html#footnote_4"><sup>[4]</sup></a> access time.<br/>
<br/>
The third and last piece of the puzzle came under the form of killer apps. PCs had powerful CPUs like the Intel Pentium running at up to 166-Mhz which game developers leveraged to produce AAA 3D games. In 1996, the two titles everybody talked about were Tomb Raider by Core Design and Quake by id Software.<br/>
<center>
<picture>
    <source srcset="tombraider.webp" type="image/webp">
    <img loading="lazy" src="tombraider.png" class="pixel" width="640" height="480" style="width: 49%; height: auto; float: left; border: solid 1px black; margin-left: 0ch;margin-bottom: 2ch;"/></picture>
<picture>
    <source srcset="quake.webp" type="image/webp">
    <img loading="lazy" src="quake.png" class="pixel" width="320" height="240" style="width: 49%; height: auto; float: right; border: solid 1px black; margin-left: 0ch;margin-bottom: 2ch;"/></picture>
</center>
</p>
<div style="clear:both;"></div>


<div class='heading'>Rendition and the V1000</div><hr/><p>
Rendition Inc, was founded in 1993. Two years later, in 1995, they announced the V1000 architecture which was promptly licensed by four OEMs. The Creative Labs 3D Blaster PCI, the Sierra Screamin' 3D, the Canopus Total 3D, and the Intergraph Reactor were the first to the market followed shortly after by MiRO.<br/>
 <br/>
</p>

<picture>
    <source srcset="intergraph_v1000.webp" type="image/webp"> 
    <img loading="lazy" src="intergraph_v1000.png" width="2000" height="1141" style="width: 100%; height: auto; margin-bottom: 1ch;"/></picture>
<center><i>Intergraph Reactor. Image courtesy of vgamuseum.ru.</i></center><br/>
<br/>
<picture>
    <source srcset="CreativeLabs3D.webp" type="image/webp"> 
    <img loading="lazy" src="CreativeLabs3D.png" width="1346" height="815" style="width: 100%; height: auto; margin-bottom: 1ch;"/></picture>
<center><i>Creative Labs 3D Blaster. Image courtesy of the "Retro Graphics Cards" club.</i></center><br/>
<p style="margin-bottom: 2ch;margin-top:2ch;">
Notice how the initial V1000-E chip was later replaced by the V1000L-P, a version drawing less power and 20% faster<a name="back_5" style="text-decoration: none;" href="index.html#footnote_5"><sup>[5]</sup></a>.<br/>
<br/>
<picture>
    <source srcset="miro.webp" type="image/webp">
    <img loading="lazy" src="miro.png" width="900" height="520" style="width: 100%; height: auto; margin-bottom: 1ch;"/></picture>
<center><i>MiroCrystal VRX. Image courtesy of vgamuseum.info.</i></center><br/>
<br/>
<picture>
    <source srcset="total3D.webp" type="image/webp"> 
    <img loading="lazy" src="total3D.png" width="2000" height="1141" style="width: 100%; height: auto; margin-bottom: 1ch;"/></picture>
</picture>
<center><i>Canopus Total3D. Image courtesy of vgamuseum.ru.</i></center><br/>
<br/>

<br/>
<img loading="lazy" src="v1000_drawing.svg" width="206.29785mm" height="124.91824mm" style="width: 50%; height: auto; float:right; margin-left: 3%; margin-bottom: 10px;"/><p>
The name of the cards changed but the chips found on them were similar. The only real leverage OEMs had to balance price versus performance was the quality of the RAM on-board.
<ol style="list-style-position: inside; padding-left: 0;">
<li>VGA Port to connect to the CRT monitor.</li>
<li>A Ramdac, usually from Bt but occasionally an AT&amp;T chip.</li>
<li>The core of the card, a V1000-E, V1000-P, or v1000-L chip.</li>
<li>Eight 512 KiB chips of DRAM/EDO totaling four MiB to host both the framebuffers and the textures.</li>
<li>64 KiB of EEPROM containing the BIOS.</li>
</ol>
<br/>
<p>
A V1000 has two essential properties which are important to notice since the 3dfx Voodoo (which will be studied later) took a radically different approach.<br/>
<br/>
First, the card was meant as a replacement of whatever the customer had already installed. The chip supported both VGA 2D and 3D drawing, with an impressive 3D-in-a-window mode via context switches. As a result, the card had a single output VGA port<br/>
<br/>
The second characteristic is the "big iron" architecture based on a lone Mips CPU accessing an unified 4MiB. The 64-bit data bus between them had no particular properties. This generic design made the card easily programmable via microcode uploaded upon startup (this made it the very first PC GPU, long before Nvidia coined the term.)<br/>
</p>
<div style="clear:both;"></div>

<div class='heading'>Programming the V1000</div><hr/><p>
    The SDK<a name="back_6" style="text-decoration: none;" href="index.html#footnote_6"><sup>[6]</sup></a> came with a set of headers to interface with the C language (RRedline on Windows and Speedy3D on DOS). Drawing a textured triangle was similar to what Vulkan has to offer today with manual VRAM management. Capable of rendering perspective correct textured triangles, the API also supported alpha tests, alpha blending, and fog.<br/>

<!-- source: https://tohtml.com/c/ -->




<pre style="color:#000000;background:#ffffff;"><span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">string.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">windows.h</span><span style="color:#800000; ">&gt;</span>
<span style="color:#004a43; ">#</span><span style="color:#004a43; ">include </span><span style="color:#800000; ">&lt;</span><span style="color:#40015a; ">redline.h</span><span style="color:#800000; ">&gt;</span>

<span style="color:#400000; ">WinMain</span><span style="color:#808030; ">(</span><span style="color:#603000; ">HINSTANCE</span> instance<span style="color:#808030; ">,</span> <span style="color:#603000; ">HINSTANCE</span> prevInstance<span style="color:#808030; ">,</span> <span style="color:#603000; ">LPSTR</span> cmdLine<span style="color:#808030; ">,</span> <span style="color:#800000; font-weight:bold; ">int</span> cmdShow<span style="color:#808030; ">)</span><span style="color:#800080; ">{</span>
  <span style="color:#800000; font-weight:bold; ">int</span> WIDTH<span style="color:#808030; ">=</span><span style="color:#008c00; ">640</span><span style="color:#808030; ">,</span> HEIGHT <span style="color:#808030; ">=</span> <span style="color:#008c00; ">480</span><span style="color:#800080; ">;</span>
  <span style="color:#603000; ">HWND</span> hWndMain <span style="color:#808030; ">=</span> <span style="color:#808030; ">.</span><span style="color:#808030; ">.</span><span style="color:#808030; ">.</span> <span style="color:#800080; ">;</span>

  <span style="color:#696969; ">// Setup Verite board and resolution/refresh rate</span>
  v_handle verite<span style="color:#800080; ">;</span>
  VL_OpenVerite<span style="color:#808030; ">(</span>hWndMain<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>verite<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  V_SetDisplayType<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> V_FULLSCREEN_APP<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  V_SetDisplayMode<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> WIDTH<span style="color:#808030; ">,</span> HEIGHT<span style="color:#808030; ">,</span> <span style="color:#008c00; ">16</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">75</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  <span style="color:#696969; ">// Copy texture to VRAM</span>
  bmp_info  bmp <span style="color:#808030; ">=</span> loadBMP<span style="color:#808030; ">(</span><span style="color:#800000; ">"</span><span style="color:#0000e6; ">data</span><span style="color:#0f69ff; ">\\</span><span style="color:#0000e6; ">rlogo.bmp</span><span style="color:#800000; ">"</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  v_memory memObj <span style="color:#808030; ">=</span> V_AllocLockedMem<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>linebytes<span style="color:#808030; ">*</span>bmp<span style="color:#808030; ">.</span>height<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  <span style="color:#603000; ">memcpy</span><span style="color:#808030; ">(</span>V_GetMemoryObjectAddress<span style="color:#808030; ">(</span>memObj<span style="color:#808030; ">)</span><span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>addr<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>linebytes<span style="color:#808030; ">*</span>bmp<span style="color:#808030; ">.</span>height<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  v_surface <span style="color:#808030; ">*</span>display<span style="color:#808030; ">,</span> <span style="color:#808030; ">*</span>texture<span style="color:#800080; ">;</span>
  VL_CreateSurface<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>display<span style="color:#808030; ">,</span> V_SURFACE_PRIMARY<span style="color:#808030; ">,</span> <span style="color:#008c00; ">2</span><span style="color:#808030; ">,</span> V_PIXFMT_565<span style="color:#808030; ">,</span> WIDTH<span style="color:#808030; ">,</span> HEIGHT<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  VL_CreateSurface<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>texture<span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">1</span><span style="color:#808030; ">,</span> V_PIXFMT_565<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>width<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>height<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  v_cmdbuffer cmdbuffer <span style="color:#808030; ">=</span> V_CreateCmdBuffer<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  VL_LoadBuffer<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> texture<span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>linebytes<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>width<span style="color:#808030; ">,</span> bmp<span style="color:#808030; ">.</span>height<span style="color:#808030; ">,</span> memObj<span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  VL_InstallDstBuffer<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> display<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  VL_InstallTextureMap<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> texture<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  VL_SetSrcFunc<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> V_SRCFUNC_REPLACE<span style="color:#808030; ">)</span>

  <span style="color:#696969; ">// Clear screen to black</span>
  VL_FillBuffer<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> display<span style="color:#808030; ">,</span> <span style="color:#008c00; ">1</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> <span style="color:#008c00; ">0</span><span style="color:#808030; ">,</span> display<span style="color:#808030; ">-</span><span style="color:#808030; ">&gt;</span>width<span style="color:#808030; ">,</span> display<span style="color:#808030; ">-</span><span style="color:#808030; ">&gt;</span>height<span style="color:#808030; ">,</span><span style="color:#008c00; ">0</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  <span style="color:#696969; ">// Populate cmd with triangle coo and textCoo</span>
  v_kaxyzuvq vertex<span style="color:#808030; ">[</span><span style="color:#008c00; ">3</span><span style="color:#808030; ">]</span> <span style="color:#808030; ">=</span> <span style="color:#808030; ">.</span><span style="color:#808030; ">.</span><span style="color:#808030; ">.</span> <span style="color:#800080; ">;</span>
  VL_Triangle<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> V_FIFO_KAXYZUVQ<span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>vertex<span style="color:#808030; ">[</span><span style="color:#008c00; ">0</span><span style="color:#808030; ">]</span><span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>vertex<span style="color:#808030; ">[</span><span style="color:#008c00; ">1</span><span style="color:#808030; ">]</span><span style="color:#808030; ">,</span> <span style="color:#808030; ">&amp;</span>vertex<span style="color:#808030; ">[</span><span style="color:#008c00; ">2</span><span style="color:#808030; ">]</span><span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>

  V_IssueCmdBuffer<span style="color:#808030; ">(</span>verite<span style="color:#808030; ">,</span> cmdbuffer<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
  VL_SwapDisplaySurface<span style="color:#808030; ">(</span><span style="color:#808030; ">&amp;</span>cmdbuffer<span style="color:#808030; ">,</span> display<span style="color:#808030; ">)</span><span style="color:#800080; ">;</span>
<span style="color:#800080; ">}</span>
</pre>















    <p>
    Behind the scene, RRedline took care of loading the V&eacute;rit&eacute; with 128-KiB of micro-code and translated C calls to V1000 assembly functions calls.<br/>
    <br/>
    <b>Trivia:</b> The name of the API "RRedline" was a play on "Rendition Ready" likely decided by a committee. Speedy3D however was Walt Donovan's idea.
  </p>

    <blockquote>
        The v1000 was basically just a slow CPU (25MHz) that had a 1-clock 32*32 multiply (which took up a significant fraction of the chip!), a 1 clock approximate reciprocal instruction (so a 2 clock approximate integer divide), and the usual set of RISC instructions. Oh, and one more thing - a "bilinear load" instruction which effectively read a 2x2 block of linear memory and performed a bilinear filtering based on the u and v fraction passed in the instruction. There was a tiny cache, I believe it was just 4 pixels. So if you had overlapping 2x2's you'd get a reduction in memory bandwidth, but not if the 2x2's didn't overlap.<br/>
        <br/>
        There was no hardware support for Z buffers. So the software that ran on the v1000 had to read Z, do the compare, then decide to write or not.<br/>
        <br/>
        <div>- Walt Donovan (Algorithm Architect)</div>
    </blockquote> 
<p>
  To send textures and microcode to the card, the driver used DMA to transfer data across the PCI without involving the CPU. In practice, many motherboards did not implement bus mastering properly and games had to fallback to PCI FIFO mode which was detrimental to performances<a name="back_7" style="text-decoration: none;" href="index.html#footnote_7"><sup>[7]</sup></a>. Internally, all operations were carried via 32-bit fixed-point integers.<br/>
</p>
<blockquote>
    Rendition took the approach of being fully programmable, but didn't have any kind of clever pipelining or fast clocks. So, if it took 25 instructions to write a pixel, then you would get only 1 megapixel/sec. With fixed function hardware, you can pipeline the equivalent of these 25 instructions, and get 25 megapixel/sec. 3dfx's people came from SGI, and they took the approach that the right solution was to build a fixed function triangle engine in hardware, with a bunch of knobs that was a subset of OpenGL functionality. The designers of the V1000 came from a very different background, had no knowledge of OpenGL, and decided that the right approach was to build a CPU.<!--   Nvidia made kind of the same kind of mistake with the NV1. --><br/>
<br/>
        <div>- Walt Donovan (Algorithm Architect)</div>
    </blockquote>   
    
    <p>
    <!-- Trivia:</b> Later on, Speedy API morphed into RRedline API<a name="back_8" style="text-decoration: none;" href="#footnote_8"><sup>[8]</sup></a> to be used on Microsoft Windows OS. -->
    On top of the list of features, the card also had an innovative anti-aliasing system which was not without a funny side-effect.
  </p>
</p>


<blockquote>
 The antialiasing algorithm used in vquake is patented (#6005580.) There's a funny joke about that AA algorithm. It worked on triangles, not spans. Now quake had this concept of "perfect z-buffering" where things were broken up into spans and visibility sorting done using the BSP/PVS. So you ended up with a bunch of spans that covered the screen perfectly without overlap or missing pixels, and which only required a single write (no z buffering!) to display memory. However, the starting data for these spans were in fact triangles. The AA algorithm looked for silhouette edges, and then antialiased them. (See humus.name, Geometric Post-Process antialiasing, around March 2011 for a lot more info on the idea -- he rediscovered it!) But since this was done after the screen was rendered (all the spans were rendered), the algorithm had no idea if the edge was actually visible or not. It just drew them anyway. (If there had been a z-buffer, then only visible edges would have been overdrawn!) In practice, that did not turn out to be a problem since the BSP tended to cull non-visible triangles very well.<br/>
 <br/>
 But not the character models! So vquake allowed you to see people hiding behind doors and walls, with a very slight and moving disturbance in the texture!<br/>
<br/>
        <div>- Walt Donovan (Algorithm Architect)</div>
    </blockquote>     
</p>



<div class='heading'>vQuake</div><hr/><p style="margin-bottom: 1ch;">
    Several good games were supported upon release. Descent II, Grand Prix Legends, IndyCar Racing II, Myst, Nascar Racing, EF2000, and Tomb Raider were all "nice to have" but the real crown jewel, the most power hungry and the one driving sales, was Quake. id Software's title was treated to a dedicated V&eacute;rit&eacute; port called vQuake released on December 2, 1996. It was done by Walt Donovan and Stefan Podell from V&eacute;rit&eacute; in direct collaboration with Michael Abrash from id Software.<br/>
    <br/>
    It was tedious work but it worked. A Pentium 166Mhz able to render Quake in 320x200 at 26 frames per second was able to jump to 640x480 with bilinear filtering/anti-aliasing enabled and still render at 22 frames per second<a name="back_9" style="text-decoration: none;" href="index.html#footnote_9"><sup>[9]</sup></a>. In practice, players used a resolution of 512x384 which was visually pleasing and allowed 32 frames per second on a P166-Mhz. For a short period of time, vQuake was unarguably the best way to enjoy Quake.<br/>

</p>

<script type="text/javascript">
  function setCompareImage2(e) {
    document.getElementById('demo2_frame1324_software.png').src='demo2_frame1324_' + e.value + '.png';
    document.getElementById('demo2_frame1324_software.webp').srcset='demo2_frame1324_' + e.value + '.webp';
  }
</script>
<picture>
    <source srcset="demo2_frame1324_v1000.webp" id="demo2_frame1324_software.webp" type="image/webp">
    <img loading="lazy" src="demo2_frame1324_v1000.png" class="pixel" width="768" height="576" id="demo2_frame1324_software.png" style="width: 100%; height: auto; border: solid 1px; margin-top: 1ch; margin-bottom: 0ch;"/></picture>
<form >
    <div style="width: 100%; display: inline-block; margin-top: 1ch;">
      <center>
        <label><input type="radio" name="demo2_frame1324" value="software" onclick="setCompareImage2(this);"> Software</label>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <label><input type="radio" name="demo2_frame1324" value="v1000" onclick="setCompareImage2(this);" checked="checked" > V&eacute;rit&eacute; V1000</label>
      </center>
    </div>
</form>

<br/>
<p style="margin-bottom: 0; margin-top: 0;"><i>Many thanks to user @swaaye from vogons.org forum for providing V1000 screenshots and to Fruit Of the Dojo for their high-quality, easy-hackable MacOSX port of Quake<a name="back_10" style="text-decoration: none;" href="index.html#footnote_10"><sup>[10]</sup></a>. </i></p>
<br/>

 <script type="text/javascript">
  function setCompareImage(e) {
    document.getElementById('demo3_frame33_software.png').src='demo3_frame33_' + e.value + '.png';
    document.getElementById('demo3_frame33_software.webp').srcset='demo3_frame33_' + e.value + '.webp';
  }
</script>
<picture>
    <source srcset="demo3_frame33_v1000.webp" id="demo3_frame33_software.webp" type="image/webp">
    <img loading="lazy" src="demo3_frame33_v1000.png" class="pixel" width="768" height="576" id="demo3_frame33_software.png" style="width: 100%; height: auto; border: solid 1px; margin-top: 1ch; margin-bottom: 0ch;"/></picture>
<form >
    <div style="width: 100%; display: inline-block; margin-top: 1ch;">
      <center>
        <label><input type="radio" name="demo3_frame33" value="software" onclick="setCompareImage(this);"> Software</label>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <label><input type="radio" name="demo3_frame33" value="v1000" onclick="setCompareImage(this);" checked="checked" > V&eacute;rit&eacute; V1000</label>
      </center>
    </div>
</form>
 

</p>


<div class='heading'>The z-flaw</div><hr/><p>
  What handicaped the V1000 (and indirectly its successor the V2200) was its lack of a hardware-accelerated z-buffer. As soon as a developer enabled depth-test, the fill-rate dropped to 12.5Mpixel/s and framerate was halved. As Stephan Podell would later explain<a name="back_11" style="text-decoration: none;" href="index.html#footnote_11"><sup>[11]</sup></a>, vQuake (and all other games) had been banged into the V1000 by reading the z-buffer as little as possible.<br/>
  <br/>
   Developers found out that the only way to ship was to have the CPU do most of the work. In the case of vQuake, that meant using the card as a super fast horizontal span renderer which always wrote to the z-buffer but only performed z-read-compare when rendering enemies. Even though good products shipped, the consequences of these design "choices" would be far reaching.<br/>
</p>

<div class='heading'>The 3dfx ogre and the fall of Rendition</div><hr/><p>
  id Software released GLQuake on January 22, 1997. Implemented using miniGL (a subset of OpenGL 1.0 standard without GL_LIGHT and GL_FOG among other things), the binary opened the door to all hardware-accelerated PC cards. 3dfx Interactive's Voodoo cards particularly stood out in this exercise, their mind-blowing figures (41fps in 512x384 16-bit colors on a P166<a name="back_12" style="text-decoration: none;" href="index.html#footnote_12"><sup>[12]</sup></a>) becoming the de-facto benchmark of 3D acceleration. The V1000's 25 MPixels/second fillrate which once compared favorably against Pentium software rendering now appeared average faced with the 50 Mpixels/second of a Voodoo which was not even affected by z-testing.<br/>
  <br/>
  Rendition's answer came with the more powerful V2x00 which paradoxically made things worse. Advertised as twice as fast with hardware z-buffer, the V2x00 failed to improve vQuake framerate. This anomaly eroded customers trust and reflected poorly on vQuake developer Stefan Podell who felt compelled to explain why vQuake was CPU bound instead of GPU bound<a name="back_13" style="text-decoration: none;" href="index.html#footnote_13"><sup>[13]</sup></a>.<br/> 
  <blockquote>
... with my reputation tarnished by VQuake and VHexen2
not going any faster on the V2x00, I'm here to explain 
why this is the case.<br/>
<br/>
[...]<br/>
<br/>
Walt and Michael decided that since the Verite 1000
wasn't terribly good at Z-buffered pixels, that if
we let the Pentium take care of this span sorting, we
could reduce the number of pixels the Verite would 
draw. Furthermore, we'd be able to turn off the Z
compare function on the Verite.<br/>
<br/>
[...]<br/>
<br/>
... no matter the Verite chip, the CPU will be
very busy.<br/>
<br/>
    <div>- Stefan Podell</div>
</blockquote>

<p>
  Moreover, there were significant hardware design issues which originally bricked<a name="back_14" style="text-decoration: none;" href="index.html#footnote_14"><sup>[14]</sup></a> the V2x00. It tooks months to fix the problem and even then the board still ran at 50Mhz while the NVidia NV3 and the Voodoo2 already pushed 100Mhz.
  A third generation based on a V3300 could have changed the course of history but it came too late. The project was canceled in 1998 after Rendition was purchased by Micron Technology.<br/>
</p>
<blockquote>
    We did many things wrong at Rendition. We would have delivered the v1000 months earlier (and would have had zero competition for months) had we just done the layout in house instead of farming it out to the fab. And the chip's QA was questionable. We had one guy who spent months trying to get mpeg decompression working using V1000 assembly language, and could never get it to work because the chip was so randomly buggy.<br/>
<br/>
The only reason vquake worked well in practice was that the v1000 wasn't doing all that much. "Render this list of spans", "antialias this edge", that's pretty much it. Mike Abrash and I spent way too much time meshing quake with the V1000, and it was just not a feasible model going forward.<br/>

    <br/>
    <div>- Walt Donovan (Algorithm Architect)</div>
</blockquote>
<p>
After the demise of Rendition, 3dfx's doubled down with a Voodoo2  whose outstanding performances pulverized competition. The king of PC 3D ruled the world for a moment. The game eventually resumed with new challengers entering the arena, among them ATI from Canada and a relatively unknown company at the time called Nvidia.
</p>
<style type='text/css'>td.ref {  padding-bottom: 0ch; width:0;}</style><div class='heading'>References</div><hr/><p id='paperbox' style='text-align:left;'><table><tbody style='vertical-align: top;'><tr><td class='ref' style='width:1ch;'><a name="footnote_1"></a><a href="index.html#back_1">^</a></td><td  class='ref' style='width:4ch;'> [ 1]</td><td style='width:100%;text-align:left;' class='ref'><a href="http://www.vgamuseum.info/index.php/news/item/339-rendition-verite-v1000">VGA Museum, V1000 Texel Fillrate (MTexel/s) reported as 25</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_2"></a><a href="index.html#back_2">^</a></td><td  class='ref' style='width:4ch;'> [ 2]</td><td style='width:100%;text-align:left;' class='ref'><a href="../fd_proxy/doom3/pdfs/johnc-plan_1996.pdf">John Carmack .plan Aug 22, 1996 "at 512*384 it is almost twice as fast"</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_3"></a><a href="index.html#back_3">^</a></td><td  class='ref' style='width:4ch;'> [ 3]</td><td style='width:100%;text-align:left;' class='ref'><a href="SGI&#32;Prices&#32;July&#32;1993.jpeg">Silicon Graphics Interactive Client Periodic Table</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_4"></a><a href="index.html#back_4">^</a></td><td  class='ref' style='width:4ch;'> [ 4]</td><td style='width:100%;text-align:left;' class='ref'><a href="http://falconfly.3dfx.pl/reference.htm">3dfx VOODOO1 Reference Rev. 1.0</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_5"></a><a href="index.html#back_5">^</a></td><td  class='ref' style='width:4ch;'> [ 5]</td><td style='width:100%;text-align:left;' class='ref'><a href="http://vintage3d.org/verite1.php#sthash.MvDauEQm.dpbs">Review of the V1000</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_6"></a><a href="index.html#back_6">^</a></td><td  class='ref' style='width:4ch;'> [ 6]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://web.archive.org/web/20070206192007/http://download.micron.com/downloads/itg/SDK.zip">Rendition Verite V1000 SDK</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_7"></a><a href="index.html#back_7">^</a></td><td  class='ref' style='width:4ch;'> [ 7]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://en.wikipedia.org/wiki/Rendition_(company)#V%C3%A9rit%C3%A9_V1000">The immaturity of the PCI bus [...] caused DMA bugs to surface</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_8"></a><a href="index.html#back_8">^</a></td><td  class='ref' style='width:4ch;'> [ 8]</td><td style='width:100%;text-align:left;' class='ref'><a href="pguide.pdf">RRedline Programming Guide</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_9"></a><a href="index.html#back_9">^</a></td><td  class='ref' style='width:4ch;'> [ 9]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://gona.mactar.hu/v1000/">Benchmarks to compare the Rendition V&eacute;rit&eacute; V1000-E and V1000L-P</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_10"></a><a href="index.html#back_10">^</a></td><td  class='ref' style='width:4ch;'> [10]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://github.com/fruitz-of-dojo/Quake">MacOSX X Quake port source code on github.com</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_11"></a><a href="index.html#back_11">^</a></td><td  class='ref' style='width:4ch;'> [11]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.vogonswiki.com/index.php/VQuake#Details">Stephan Podell BSS post</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_12"></a><a href="index.html#back_12">^</a></td><td  class='ref' style='width:4ch;'> [12]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.soldcentralfl.com/quakecoop/compare1.htm">Comparison of Frame-rates in 
GLQuake Using Voodoo1</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_13"></a><a href="index.html#back_13">^</a></td><td  class='ref' style='width:4ch;'> [13]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.vogonswiki.com/index.php/VQuake#Details">Stephan Podell BSS post</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_14"></a><a href="index.html#back_14">^</a></td><td  class='ref' style='width:4ch;'> [14]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://en.wikipedia.org/wiki/Rendition_(company)">wikipedia.com, Downfall section</a></td></tr></tbody></table></p> <hr>
 <center>*