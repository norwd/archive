<html>
<head>
  <link rel="alternate" type="application/rss+xml"  title="RSS Feed for fabiensanglard.net" href="../rss.xml" />
  <style type="text/css">

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono.woff2');
      font-display: block;
    }

    @font-face {
      font-family: 'fabfont';
      src: url('../font/DejaVuSansMono-Bold.woff2');
      font-weight: bold;
      font-display: block;
    }

    * {
       font-size: 16px;
    }

    html {
      font-family: fabfont,  monospace;
      max-width: 900px;  /* For Desktop PC (see @media for Tablets/Phones) */
      padding-left: 2%;
      padding-right: 3%;
      margin: 0 auto;
      background: #F5F5F0;
  	} 
    


  	a {
      color: black;
      font-weight: bold;
    }

    img {
      border: none; 
    }

    p {
      margin-top: 0px;
      text-align: justify;
    }
    sup {
      vertical-align: 0.3em;
      font-size: 0.65em;
    }   

    pre {
      font-family: fabfont, monospace;
      background-color: white; 
      border: 1px solid Black; 
      padding-left: 2%;
      padding-top: 1ch;
      padding-bottom: 1ch;
      /* Only take care of X overflow since this is the only part that can be too wide.
         The Y axis will never overflow.
      */
      overflow: hidden;
    }

    div.heading {
      font-weight: bold;      
      text-transform: uppercase;
      margin-top: 4ch;
    }

    /** {
      font-size: 16px;
    }*/
    @media (max-width: 500px) { /* For small screen decices */
      * {
        font-size: 12px; 
      }
    }   
    .title {
      text-decoration: none;
    }

    img.pixel, canvas.pixel {
      image-rendering: pixelated;
      image-rendering: -moz-crisp-edges;
      image-rendering: crisp-edges;
    }

    blockquote { 
    background-color: #f3f3f3;
    border: dashed 1px grey; 
    width: 97.5%; 
    font-style: italic; 
    text-align: justify;

    padding: 1ch; 
    padding-top: 2ch; 
    padding-bottom: 2ch;     
    
    margin : 0ch; 
    margin-bottom: 2ch; 
    margin-top: 0ch;
  }

  blockquote div {
    text-transform: none;
    text-align: right;
    width: 100%;
  }

  code {
    /*font-size: 110%;*/
    font-weight: bold;
    background-color: #e1e1e1;
    border-radius: 0.5ch;
    padding-left: 0.3ch;
    padding-right: 0.3ch;
  }

  .trivia {
    border-left: 1px black solid;
    padding-left: 1ch;
  }

  .trivia::before {
  font-weight: bold;
  text-decoration: underline;
  padding-right: 1ch;
  content: "Trivia:";

  </style>
  <title>The polygons of Another World: Sega Genesis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=12.0, minimum-scale=1.0, user-scalable=yes">
</head>  
  <body><br><center>
    <div style="display: inline-block; vertical-align:middle;">
<a href="../index.html" class="title"><b>FABIEN SANGLARD'S WEBSITE</b><br>
</a><hr/><div style="text-align: justify;display: inline-block; width: 100%;">
<!-- <a class="title" href="/about/index.html">ABOUT</a> &nbsp;<a class="title" href="/contact/index.html">EMAIL</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">DONATE</a></div></div> -->
<a class="title" href="../about/index.html">ABOUT</a> &nbsp;<a class="title" href="../contact/index.html">CONTACT</a> &nbsp;<a class="title" href="../rss.xml">RSS</a> &nbsp;<a class="title" href="https://paypal.me/fabiensanglard">GIVE</a></div></div>

</center><br><br>
<div style="margin-bottom: 2ch;text-transform: none;">
January 8, 2019</div>
<div class='heading'>The polygons of Another World: Sega Genesis</div><hr/>
<p>
  This article is part of a study about the ports of Another World. It is highly recommended to read <a href="../another_world_polygons/index.html">Another World 101</a> before reading this.
</p>  
<div class='heading'>History</div><hr/>
<p> 
    <img loading="lazy" src="SEGA_logo.svg" width="300" height="100" style="width: 40%; height: auto; float:right;margin-bottom: 1ch; margin-left: 2ch;"/>
    The development of the MegaDrive/Genesis started right after Sega shipped its "Master System" in 1987. At the time, Sega's goal was to produce something to outperform NEC's PC Engine and Nintendo's Famicom.<br/>
    <br/>
    Lead by Masami Ishikawa, the R&D team took only a year to come up with a 16-bit system. Launched on October 29, 1988 in Japan, the console did not do well, reportedly selling 400,000 units in its first year. Despite the release of numerous peripherals and being one whole generation ahead of Nintendo's NES, the MegaDrive failed to meet its audience.
<br/><br/>
     Similarly, the US (January 1989) and European (September 1990) release were disappointing<a name="back_1" style="text-decoration: none;" href="index.html#footnote_1"><sup>[1]</sup></a>. The salvation came in mid-1990 when Tom Kalinske became CEO of Sega America. Price cut, dedicated US development team, aggressive TV advertising campaign ("Genesis does what Nintendon't"), and replacing the bundled game Altered Beast with Sonic the Hedgehog sent the Genesis at the top of the charts.
<br/><br/>
     Combined to a late Nintendo SNES and a struggling NEC TurboGrafx-16, Sega ended up controlling 65% of the 16-bit console market by January 1992 and outsold Nintendo four Christmas seasons in a row from 1990 to 1994. The game console turned out to be a smash-hit, selling 39.7 million units worldwide<a name="back_2" style="text-decoration: none;" href="index.html#footnote_2"><sup>[2]</sup></a>.<br/>
    
<picture>
  <source srcset="genesis.webp" type="image/webp">
    <img loading="lazy" src="genesis.png" width="1024" height="512" style="width: 100%; height: auto; margin-bottom: 1ch; margin-top: 2ch;border: 1px black solid;"/>    </picture>
    <br/>
    <span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>The Sega MegaDrive/Genesis. Photo credit: Wikipedia.</small></i></span>
    </p>

<div class='heading'>Architecture</div><hr/><p>
    On the tech side, the Genesis features an impressive Motorola 68000 (7.61MHz), up to 8MiB ROM cartridges, 64KiB RAM, 64 KiB VRAM, a Video Display Processor ASIC (13 MHz), and a Z-80 (3.58 MHz) with 8KiB for audio controlling a TI 76489 and a YM 2612.<br/>
    <img loading="lazy" src="genesis_arch.svg" width="210.91072mm" height="64.100334mm" style="width: 100%; height: auto; margin-bottom: 2ch; margin-top: 1ch;border: 1px black solid;"/></p>



<div class='heading'>Video System</div><hr/> <p>
    <img loading="lazy" src="vdp_arch.svg" width="297.03891mm" height="124.53056mm" style="width: 45%; height: auto; float:right;margin-left: 2ch; margin-bottom: 1ch;border: 1px black solid;"/>    The component in charge of generating the video signal is called the VDP (Video Display Processor). It is the owner of the VRAM, a DMA controller and the CRAM where are stored the palettes.<br/>


<Br/>
    Notice how the 68000 CPU cannot address the VRAM, it can only "talk" to the VDP via registers mapped into RAM. Data transfer is usually done with the VDP's DMA which has access to both RAM and VRAM. The VDP also have registers to allow VRAM R/W operations but they are quite slow.
<blockquote>
  The 68000 is stopped during a VDP's DMA transfer but the Z-80 can keep on operating as long as it does not access the RAM.

  <br/><br/>
   The DMA is quite fast during BLANK, operating at double the tightest possible 68000 loop. It is as fast as the 68000 during active scan.
 <br/>
<br/>
<div>- Genesis Developer Manual</div>
</blockquote> 
<p>

  The color system is alike the Atari ST with 3-bit per channel totaling 9-bit per color.<br/>

  <table style="margin-bottom: 2ch;margin-top: 2ch; width: 100%; height: auto;">
  <tr>
    <td style="width: 50%;text-align: left;">
      <picture>
        <source srcset="clear_3bit.webp" type="image/webp">
        <img loading="lazy" src="clear_3bit.png" width="800" height="941" style="width: 90%; height: auto; "/>    </picture>
</td>
    <td style="width: 50%;text-align: right;">
       <picture>
        <source srcset="dark_3bit.webp" type="image/webp">
        <img loading="lazy" src="dark_3bit.png" width="600" height="706" style="width: 90%; height: auto; "/>    </picture>
  </td>
</tr>
</table>
<span style="text-align: center; display: block; margin-bottom: 2ch;"><i><small>9-bit per pixel color space</small></i></span>    


<div class='heading'>The Video Display Processor (VDP)</div><hr/> <p>
   <img loading="lazy" src="genesis_composition.svg" width="231.06944mm" height="90.663887mm" style="width: 55%; height: auto; float:right; border: 1px black solid; margin-bottom: 1ch; margin-left:2ch;"/>The VDP is the ASIC graphic powerhouse of the system. It is based on a sprite engine, which means there is no framebuffer. It works with four layers<a name="back_3" style="text-decoration: none;" href="index.html#footnote_3"><sup>[3]</sup></a> called Scroll B, Scroll A, Windows, and Sprite. 

<br/><br/>
Scroll A and Scroll B are scrollfields. They can be larger than the screen and moved independently in order to create parallax. Scroll A can also be used as a "Window" which is not scrollable and therefore well-suited to display HUD elements. 
<br/><br/>
All layers elements use 4-bit indexes into their layer's palette (therefore, there are four palettes in total). A palette index 0 is always considered transparent in all four palettes. This gives 15 colors per layer<a name="back_4" style="text-decoration: none;" href="index.html#footnote_4"><sup>[4]</sup></a>. All palettes are stored in 128 bytes called CRAM.
<br/><br/>
When the VDP generates scanlines for the TV, for each pixels, a system of priority tells in which order layers should be sampled. There is not support for blending (translucency) between layers but transparency can be done (using index 0). An handy analogy to understand priority for now is to simply think of it as a Z component with ScrollB being in the back and Sprite being in the front. As long as the VDP hits transparent pixels, it keep on going into the next layer. 
</p>

<div class='heading'>Layers</div><hr/> <p>
 Scrollfields are made of "Cells" which are 8x8 tiles. The layout of a cell is 32 bytes setup as 8 nibbles lines.
<style type="text/css">
  span.x {
    background-color:#AAA;
  }
</style>
<pre>
CELL in VRAM (64 nibbles):
==========================

    WORD    |     WORD    |    WORD     |    WORD   |
-----------------------------------------------------
BYTE | BYTE | BYTE | BYTE | BYTE | BYTE | BYTE | BYTE
-----------------------------------------------------
 0 0   F F    F F    0 0    0 F    0 0    0 0    F 0
 F 0   F 0    F 0    0 F    F 0    F 0    F 0    0 F
 F 0   0 0    0 F    0 F    F 0    F F    F 0    0 F
 0 F   0 0    0 0    F 0    0 0    F F    F F    0 0


Screen (8 lines of 8 pixels):
=============================

 0 0 <span class=x>F</span> <span class=x>F</span> <span class=x>F</span> <span class=x>F</span> 0 0
 0 <span class=x>F</span> 0 0 0 0 <span class=x>F</span> 0
 <span class=x>F</span> 0 <span class=x>F</span> 0 <span class=x>F</span> 0 0 <span class=x>F</span>
 <span class=x>F</span> 0 <span class=x>F</span> 0 <span class=x>F</span> 0 0 <span class=x>F</span>
 <span class=x>F</span> 0 0 0 0 <span class=x>F</span> 0 <span class=x>F</span>
 <span class=x>F</span> 0 <span class=x>F</span> <span class=x>F</span> <span class=x>F</span> 0 0 <span class=x>F</span>
 0 <span class=x>F</span> 0 0 0 0 <span class=x>F</span> 0
 0 0 <span class=x>F</span> <span class=x>F</span> <span class=x>F</span> <span class=x>X</span> 0 0

</pre>
<p>
The content of a scrollfield is set by entries in its "Nametable"<a name="back_5" style="text-decoration: none;" href="index.html#footnote_5"><sup>[5]</sup></a>.
<br/><br/>

 The sprite layer can display up to 80 sprites, independently of the two Scrolls content. Sprites can be larger than Cells, from 8x8 up to 32x32. The properties (position in a virtual 512x512 space, priority, and much more) of a sprite are commanded by an entry in a "Sprite table"<a name="back_6" style="text-decoration: none;" href="index.html#footnote_6"><sup>[6]</sup></a>. 

<br/><br/>
 Two modes are available called"H32" 32x28 cells (256x224 pixels) and "H40" 40x28 cells (320x224 pixels).
</p>

     
     
    


<div class='heading'>NTSC vs PAL</div><hr/> <p>
There is a difference between American TVs and European TVs. PAL has 576 visible lines while NTSC has 486 visible lines. The Genesis provisioned for this by providing a PAL mode with 30 horizontal cells (two more than NTSC's 28). The extra cells allowed to avoid big black borders on top and bottom of the screen. This was however a significant burden on developer to handle and they never bothered as far as I know. 
 <table style="margin-bottom: 2ch;margin-top: 2ch; width: 100%; height: auto;">
  <tr>
    <td style="width: 50%; text-align: left;">
      <img loading="lazy" src="sonic_ntsc.png" width="768" height="576" style="width: 100%; height: auto; "/>      <span style="text-align: center; display: block; margin-bottom: 0ch;margin-top: 1ch;"><i><small>NTSC</small></i></span>    
</td>
    <td style="width: 50%; text-align: right;">
      <img loading="lazy" src="sonic_pal.png" width="768" height="576" style="width: 100%; height: auto; "/>     <span style="text-align: center; display: block; margin-bottom: 0ch;margin-top: 1ch;"><i><small>PAL (more vertical black borders)</small></i></span>    
  </td>
</tr>
</table>
<p>
To add insult to injury, early MegaDrive titles such as "Sonic, the Hedgehog" ran 17% slower on European consoles (even the music was slower). Developers in Japan and USA did not follow best practices and assumed the VBLANK signal used to measure time triggered every 16 ms. Since PAL refreshes at 50Hz while NTSC refreshes at 60Hz, a VBLANK does not represent 16ms but 20ms in Europe. The gameplay of these early titles was way off.
</p>




<div class='heading'>Another World on Genesis</div><hr/>
 <p style="margin-bottom: 1ch;"> The Genesis port was the first in this series what was not done by Delphine Software. Interplay took care of many ports besides the Genesis, including the Macintosh, Super Nintendo and even Apple IIGS.

  <br/><br/>
The task to port to Sega's machine landed on Michael Burton while Rebecca Heineman took care of the three other platforms. Since the Genesis is based on a 68000, a lot of the code from the Atari ST version could be re-used to implement the VM. 

  <br/><br/>
    For the North American release, Interplay was concerned customers would be confused with Another World, the TV series<a name="back_7" style="text-decoration: none;" href="index.html#footnote_7"><sup>[7]</sup></a>. The game was renamed "Out Of This World" for this market. Amusingly a TV series also named "Out Of This World" came out in 1991<a name="back_8" style="text-decoration: none;" href="index.html#footnote_8"><sup>[8]</sup></a> but too late to change the game name again. 

<br/><br/>
Interplay was also concerned the game box was too beautiful so they fixed the glitch.<br/>
  
    <script type="text/javascript">
  function setBoxCover(e) {
    document.getElementById('box_version').src=    'box_cover_' + e.value + '.png';
    document.getElementById('box_version.alt').srcset='box_cover_' + e.value + '.webp';

  }
</script>
   <picture>
    <source srcset="box_cover_us.webp"             id="box_version.alt" type="image/webp">
    <img loading="lazy" src="box_cover_us.png" width="1000" height="639" id="box_version" style="width: 100%; height: auto; margin-top: 2ch; margin-bottom: 0ch;border: 1px black solid;"/>  </picture>

  <form >
    <div style="width: 100%; display: inline-block; margin-top: 0px;">
      <center>
  <label><input type="radio" name="aw_box" value="us" onclick="setBoxCover(this);" checked="checked" >USA/Canada</label>
  <label><input type="radio" name="aw_box" value="eu" onclick="setBoxCover(this);">Europe</label>
  </center>
</div>
</form>
<p>
   Michael did not immediately respond to email inquiries so the rest of this article is based on observations done with GenS and Exodus emulators as well as disassembly outputs.
  </p>

<div class='heading'>The design that could not be</div><hr/>  <p>

 The
  Genesis Software Manual<a name="back_9" style="text-decoration: none;" href="index.html#footnote_9"><sup>[9]</sup></a> is a beauty which goes as far as carefully documenting DMA timings. After studying it, I was hoping to see the VDP used extensively since it excels at the two things Another World needs the most.
  <br/><br/>
   The VDP could have been used its DMA FILL<a name="back_10" style="text-decoration: none;" href="index.html#footnote_10"><sup>[10]</sup></a> capability to DRAW polygons alike the Amiga Blitter. The DMA COPY<a name="back_11" style="text-decoration: none;" href="index.html#footnote_11"><sup>[11]</sup></a> function was a perfect match to implement the VM COPY opcode. Unfortunately a few details did not work out.
  <br/><br/>
  First there is the sheer volume of VRAM needed. Hosting all four 320x200 framebuffers in VRAM is too much for 64KiB. This was not a showstopped since the framebuffer could have been letter-boxed and the resolution lowered to reduce VRAM consumption.
  <br/><br/>
  Second, the DMA FILL write operations are done on a 16-bit granularity which is fast but when individual nibble were needed, reading from VRAM with VDP registers, masking and writing back would have sinked the framerate.
   <br/><br/>
  Finally, the layout of Cells is not compatible with the way DMA FILL works. Another World needs to write long lines of pixels but cell line are broken down in two words (4 bytes) with a stride of 28 bytes. Since DMA FILL has no stride, this would have required many requests and the overhead would have killed the framerate.<br/>
  <br/>
  This impossible design was confirmed by tracing VDP Register #17<a name="back_12" style="text-decoration: none;" href="index.html#footnote_12"><sup>[12]</sup></a> in Exodus emulator which showed DMA COPY and DMA FILL are never used.
  </p>


  <div class='heading'>Another World Genesis Architecture</div><hr/> <p>
  <img loading="lazy" src="gens.png" width="640" height="533" style="width: 50%; height: auto; float:right; margin-left:2ch; margin-bottom:2ch;"/>  With no way to build the engine around the VDP rendering into its VRAM, Another World went for a 68000 heavy approach similar to what we saw with the Atari ST.

  <br/><br/> Three framebuffers, the two BKGD and a "working" buffer are kept in RAM. The 68000 perform all rendering and copy operations there.
  <br/><br/>
   As soon as a frame is completed, it is DMA COPYed to the unused double buffer in VRAM. On the next VBLANK, the "active" VRAM buffer are flipped.

  <br/><br/>All layers are disabled except for Scroll A as verified via Gens. The Scroll A origin is modified based on which of the double buffer was written last.

  <br/><br/>
  Compared to the Atari ST, the only optimization seems to be in the implementation of COPY which now uses movem instruction. The performance gain is unclear (5%?).<br/>
  
  <img loading="lazy" src="genesis_aw_arch.svg" width="210.22464mm" height="55.867317mm" style="width: 100%; height: auto;  margin-top:2ch; margin-bottom:1ch; border: 1px black solid;"/></p>





<div class='heading'>No Framebuffer</div><hr/>  <p>
        
    There are no framebuffers to draw to in the VDP VRAM but there is a way to fake it by covering the entire screen with Cells and translating screenspace coordinates to cell coordinates.
    <br/><br/>
    For a pixel perfect port, mode H40 could have been used to get a resolution of 320x224 pixels. Removing three lines of Cells would have resulted in 320x200 which is exactly what was needed.
<br/><br/>
    At 320x200, a framebuffer would be 320 * 300 / 2 = 32,000 bytes. If we take a look at the bandwidth of the VDP DMA<a name="back_13" style="text-decoration: none;" href="index.html#footnote_13"><sup>[13]</sup></a>, we see that it would takes 32000 / 11556 = 2.7 frames on an NTSC system and 32000 / 21654 = 1.4 frames on a PAL system.
    <pre>
DMA bandwidth, bytes per frame :
===============================

Frequency     Resolution    On VBLANK       On Active Display        Total
--------------------------------------------------------------------------
  60 Hz       256 x 224       6118                3584                9702
              320 x 224       7524                4032               11556
  50 Hz       256 x 224      14329                3584               17913
              320 x 224      17622                4032               21654
              256 x 240      11753                3840               15593
              320 x 240      14454                4320               18774      
    </pre>
<p>
  <b><u>Trivia:</u></b> Notice how a PAL system is superior to an NTSC when it comes to transferring from RAM to VRAM. The longer VBLANK is an advantage here. That is why most demo group work with PAL MegaDrive instead of NTSC Genesis.
  <br/><br/>
  Looking at a "missed vsync vs framerate" chart and factoring in VM game logic and polygon rendering on top of transferring from RAM to VRAM, we see the game would ran between 12-15 fps on NTSC which was unacceptable.
</p>
  <pre>
Framerate for # missed VSYNCs:
==============================
 
Missed VSYNCs  :   0    1    2    3    4    5    6    7
-------------------------------------------------------
NTSC Framerate :  60   30   20   15   12   10    8    7
PAL  Framerate :  50   25   16   12   10    8    7    6

</pre>
  <p style="margin-bottom: 1ch;">
    <img loading="lazy" src="gen_aw.svg" class="pixel" width="68.033333mm" height="59.559879mm" style="width: 50%; height: auto; float:right; margin-bottom: 1ch; margin-left: 2ch; border: 1px black solid;"/>    To reduce bandwidth stress, the VDP is set in mode "H32" with a resolution of 32x28 Cells. Some columns and line are set up to use a Black Cell and never touched again. These extra black Cells reduce resolution further and also preserve the game intended aspect ratio of 1.3.
    <br/><br/>
     Only 28x22 Cells are actively drawn to which result in a resolution of 224x176 and a framebuffer 224 * 176 / 2 = 19,712 bytes.
<br/><br/>

   This lower resolution made copy, fill, and draw polygon op code faster to execute but also reduced the cost of transferring from RAM to VRAM. On an NTSC system, 19,712 / 9702 = 2 frames missed. Add an extra one for draw/copy/fill and you end up with 15-12 fps which seems to be confirmed by actual footage<a name="back_14" style="text-decoration: none;" href="index.html#footnote_14"><sup>[14]</sup></a>.

   <br/><br/>On a PAL system, transfer cost is 19712 / 17913 = 1.1 frame. This likely resulted in 2 vsync miss and a better framerate than NTSC, close to 16-12fps.<br/>
   
        
 

    <script type="text/javascript">
  function setImage(e) {
    document.getElementById('lester_hi').src= 'lester_' + e.value + '.png';

  }
</script>
    
<img loading="lazy" src="lester_genesis.png" class="pixel" width="320" height="200" id="lester_hi" style="width: 100%; height: auto; margin-top: 2ch; margin-bottom: 0ch;border: 1px black solid;"/>  <form >
    <div style="width: 100%; display: inline-block; margin-top: 0px;">
      <center>
  <label><input type="radio" name="lester_hi" value="genesis" onclick="setImage(this);" checked="checked" >Genesis (224 x 176)</label>
  <label><input type="radio" name="lester_hi" value="amiga" onclick="setImage(this);">Amiga (320 x 200)</label>
  </center>
</div>
</form>
<p>
Notice the added facial features and how Lester seems to look more worried. There is a clipping bug at the bottom (Lester right hand). Colors depth difference is noticeable but not an issue.
</p>

<div class='heading'>One color too short?</div><hr/> <p>
  <img loading="lazy" src="GenesisPlanes.svg" width="123.59821mm" height="118.8735mm" style="width: 33%; height: auto; float:right;margin-bottom: 1ch; margin-left: 2ch;border: 1px black solid;"/> Something that may have tipped your curiosity earlier when describing the video system is that the VDP supports per-pixel transparency.
 <br/><br/>
  This is done by always treating color index zero on all layers as transparent. This effectively reduce the number of colors available per-layer to 15. But Another World needs 16. This is a problem.

 <br/><br/>
 I imagined a solution using Plane B and filling it with a repeated Cell set to color index 0x01. When a palette is uploaded, color 0 from Plane A is also copied into palette of Plane B at index 0x01. Rendition could then proceed as normal. Since Plane B is behind Plane A, any color set to 0x0 would have been instead be set to Plane B color 0x1.

 <br/><br/>
 It turns out that none of this was needed. Running the game with Exodus and looking at palettes in real-time, I noticed that all palettes use the same BLACK color at index 0. All the developer had to do was set the BACKGROUND COLOR (the color to use when all layers are transparent) to black and be done with it.
</p>











<div class='heading'>Verdict</div><hr/>  <p>
    <img loading="lazy" src="aw_pal.png" width="768" height="576" style="width: 50%; height: auto; float:right; margin-top: 0ch; margin-left: 2ch; margin-bottom: 1ch;border: 1px black solid;"/>    This was without a doubt the most challenging port studied so far. Despite a powerful CPU and VDP, the MegaDrive seemed to struggle during RAM/VRAM transfer which to be fair was never designed to be taken to fullscreen level.
<br/><br/> 
    Maybe something could have been done with a system of Cell caching in order to transfer only the dirty ones to reduce the volume of data transfered but it is likely the developer was not allowed a lot of time to tune the port.
<br/><br/> 
     The lower resolution was not really noticeable but the cells intentionally left black added borders. It was not too much of a problem on an NTSC system but on a PAL TV the black cells of the framebuffer added even more to the "natural" black borders.
<br/><br/> 
      Did player of the time really care? I don't think so. StarFox on SNES suffers the same framerate/extra black borders but is remembered as a great game. I believe so is Out of This World/Another world on Genesis/MegaDrive.
    <br/><br/> 
    
    <img loading="lazy" src="genesis_arrival_pal.png" class="pixel" width="256" height="192" style="width: 100%; height: auto; margin-top: 1ch; margin-bottom: 1ch;border: 1px black solid;"/>      <span style="text-align: center; display: block; margin-top: 0ch;"><i><small>Contrary to the PC version, this time the moon is round!</small></i></span>
  </p>

  <div class='heading'>Next</div><hr/>  <p>
    Another World on <a href="../another_world_polygons_SNES/index.html">Super Nintendo</a>.
  </p>
<style type='text/css'>td.ref {  padding-bottom: 0ch; width:0;}</style><div class='heading'>References</div><hr/><p id='paperbox' style='text-align:left;'><table><tbody style='vertical-align: top;'><tr><td class='ref' style='width:1ch;'><a name="footnote_1"></a><a href="index.html#back_1">^</a></td><td  class='ref' style='width:4ch;'> [ 1]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://en.wikipedia.org/wiki/Sega_Genesis#Launch">Wikipedia: Sega Genesis, Launch</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_2"></a><a href="index.html#back_2">^</a></td><td  class='ref' style='width:4ch;'> [ 2]</td><td style='width:100%;text-align:left;' class='ref'><a href="http://segatastic.blogspot.com/2009/12/mega-drive-sales-figures-update.html">Mega Drive sales figures - an update</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_3"></a><a href="index.html#back_3">^</a></td><td  class='ref' style='width:4ch;'> [ 3]</td><td style='width:100%;text-align:left;' class='ref'><a href="GenesisSoftwareManual.pdf">Genesis Software Manual: VDP 315-5313</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_4"></a><a href="index.html#back_4">^</a></td><td  class='ref' style='width:4ch;'> [ 4]</td><td style='width:100%;text-align:left;' class='ref'>There are many tricks to display more colors such as changing palette on HBLANK or streaming colors to the BACKGROUND REGISTER but these are not relevant here.</td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_5"></a><a href="index.html#back_5">^</a></td><td  class='ref' style='width:4ch;'> [ 5]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://segaretro.org/Sega_Mega_Drive/Planes#Nametables">VDP, Planes Nametables</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_6"></a><a href="index.html#back_6">^</a></td><td  class='ref' style='width:4ch;'> [ 6]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://segaretro.org/Sega_Mega_Drive/Sprites">VDP, Sprite Table</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_7"></a><a href="index.html#back_7">^</a></td><td  class='ref' style='width:4ch;'> [ 7]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://en.wikipedia.org/wiki/Another_World_(TV_series)">Wikipedia: Another World TV Series</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_8"></a><a href="index.html#back_8">^</a></td><td  class='ref' style='width:4ch;'> [ 8]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://en.wikipedia.org/wiki/Out_of_This_World_(TV_series)">Wikipedia: Out of This World TV Series</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_9"></a><a href="index.html#back_9">^</a></td><td  class='ref' style='width:4ch;'> [ 9]</td><td style='width:100%;text-align:left;' class='ref'><a href="GenesisSoftwareManual.pdf">Genesis Software Manual</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_10"></a><a href="index.html#back_10">^</a></td><td  class='ref' style='width:4ch;'> [10]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://wiki.megadrive.org/?title=VDP_DMA#VRAM_Fill">VDP DMA FILL</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_11"></a><a href="index.html#back_11">^</a></td><td  class='ref' style='width:4ch;'> [11]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://wiki.megadrive.org/?title=VDP_DMA#VRAM_Copy">VDP DMA COPY</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_12"></a><a href="index.html#back_12">^</a></td><td  class='ref' style='width:4ch;'> [12]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://wiki.megadrive.org/index.php?title=VDP_Registers#0x17_-_DMA_source_address_high">VDP Registers 0x17</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_13"></a><a href="index.html#back_13">^</a></td><td  class='ref' style='width:4ch;'> [13]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://segaretro.org/Sega_Mega_Drive/DMA#Bandwidth">segaretro.org, MegaDrive DMA Bandwidth</a></td></tr><tr><td class='ref' style='width:1ch;'><a name="footnote_14"></a><a href="index.html#back_14">^</a></td><td  class='ref' style='width:4ch;'> [14]</td><td style='width:100%;text-align:left;' class='ref'><a href="https://www.youtube.com/watch?v=n088rCi-UPg">Out of This World on US Model 2 Sega Genesis through S-Video</a></td></tr></tbody></table></p> <hr>
 <center>*